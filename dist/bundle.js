(()=>{"use strict";var e={148:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.checkRowsAndColumns=r.checkGrid=void 0;var n=t(12);r.checkGrid=function(){var e;return null==(0,n.getCurrentGrid)()?(e="something went wrong with fetching the grid :S",alert(e),e):1!=o()?(e="the grid is not fully filled :S",alert(e),e):1!=i()&&1!=a()?(e="the grid is incorrect :S",alert(e),e):(e="the grid is correct :D. Well done!",alert(e),e)};var o=function(){for(var e=(0,n.getCurrentGrid)(),r=0;r<9;r++)for(var t=0;t<9;t++)if(""==e[r][t])return!1;return!0},i=function(){for(var e=(0,n.getCurrentGrid)(),r=new Array(9).fill(0),t=new Array(9).fill(0),o=0;o<9;o++){r.fill(0),t.fill(0);for(var i=0;i<9;i++){var a=Number.parseInt(e[o][i]),u=Number.parseInt(e[i][o]);if(r[a-1]++,t[u-1]++,1!=r[a-1])return!1;if(1!=t[u-1])return!1}}return!0};r.checkRowsAndColumns=i;var a=function(){return 1==u(0,2,0,2)&&1==u(0,2,3,5)&&1==u(0,2,6,8)&&1==u(3,5,0,2)&&1==u(3,5,6,8)&&1==u(3,5,0,2)&&1==u(5,8,0,2)&&1==u(5,8,3,5)&&1==u(5,8,5,8)},u=function(e,r,t,o){for(var i=(0,n.getCurrentGrid)(),a=new Array(9).fill(0),u=e;u<=r;u++)for(var d=t;d<=o;d++){var c=Number.parseInt(i[u][d]);if(a[c-1]++,a[c-1]>1)return!1}return!0}},12:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getCurrentGrid=void 0,r.getCurrentGrid=function(){for(var e=[],r=0;r<9;r++)e[r]=new Array(9).fill("");var t=document.querySelectorAll(".cell");if(null===t)return[[""]];for(r=0;r<=8;r++)for(var n=0;n<=8;n++){var o=t[9*r+n];if(!(o instanceof HTMLElement))return[[""]];if(!o)return[[""]];var i=o.innerText;e[r][n]=i}return e}},284:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.clearBoard=void 0;var n=t(741);r.clearBoard=function(){!function(){var e=document.getElementById("grid");null!==e&&e.remove()}();var e=document.createElement("div");null!==e&&(e.id="grid",document.body.append(e),(0,n.createBoard)(function(){for(var e=[],r=0;r<9;r++)e[r]=new Array(9).fill("");return e}()))}},741:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createBoard=void 0;var n=t(295);r.createBoard=function(e){var r=document.getElementById("grid");null!==r&&e.forEach((function(e,t){var n=document.createElement("div");null!==n&&(n.classList.add("row"),n.setAttribute("row","".concat(t)),2!=t&&5!=t||n.classList.add("underline"),r.append(n),e.forEach((function(e,r){var i=document.createElement("div");null!==i&&(i.setAttribute("row","".concat(t)),i.setAttribute("column","".concat(r)),i.classList.add("cell"),2!=r&&5!=r||i.classList.add("rightline"),""===e.toString()?(i.setAttribute("type","button"),i.addEventListener("click",o)):i.innerText=e.toString(),n.append(i))})))}))};var o=function(e){var r=e.target;if(r instanceof HTMLElement){var t=r.getAttribute("row"),o=r.getAttribute("column"),i=document.querySelector('[row="'.concat(t,'"][column="').concat(o,'"]'));if(i instanceof HTMLElement){var a;do{var u=prompt("Enter a number between 1 and 9:");if(null===u)return;a=Number.parseInt(u)}while(isNaN(Number(a)));if(!isNaN(Number(a))&&null!==i){var d;d=""===i.innerHTML?0:Number.parseInt(i.innerHTML),i.innerText=a.toString(),n.undoStack.push([Number.parseInt(t),Number.parseInt(o),d])}}}}},295:function(e,r){var t,n=this&&this.__extends||(t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])},t(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(r,"__esModule",{value:!0}),r.undoStep=r.undoStack=void 0;var o=new(function(e){function r(r){void 0===r&&(r=1/0);var t=e.call(this)||this;return t.capacity=r,t}return n(r,e),r.prototype.push=function(e){if(this.isFull())throw Error("Stack has reached max capacity, you cannot add more items");this.storage.push(e)},r.prototype.pop=function(){return this.storage.pop()},r.prototype.peek=function(){return this.storage[this.size()-1]},r.prototype.isFull=function(){return this.capacity===this.size()},r}(function(){function e(){this.storage=[]}return e.prototype.size=function(){return this.storage.length},e}()));r.undoStack=o,r.undoStep=function(){if(null===o.peek()||void 0===o.peek()){var e="undoStack is null or undefined";return alert(e),e}if(0===o.size())return e="the undoStack is not yet built",alert(e),e;var r=o.pop();if(3!==r.length)return e="something went wrong with fetching an undoStack-element",alert(e),e;var t=document.querySelector('[row="'.concat(r[0],'"][column="').concat(r[1],'"]'));return console.log("undid row ".concat(r[0]+1," column ").concat(r[1]+1," from ").concat(t.innerHTML," to ").concat(r[2])),0===r[2]?t.innerHTML="":t.innerHTML=r[2].toString(),"good work mate"}},314:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.easyGrid2=r.easyGrid1=r.numOfEasyGrids=void 0,r.numOfEasyGrids=2,r.easyGrid1=[["8","2","7","3","","","","4","9"],["6","4","9","","5","","8","3",""],["","","","4","8","9","6","",""],["","","","6","","1","2","",""],["2","1","","","","7","","","6"],["4","9","","","","","1","5","7"],["1","8","","","2","4","7","",""],["","","","","7","3","","",""],["3","","4","1","","","","",""]],r.easyGrid2=[["4","9","","8","","","5","1",""],["","1","8","","5","","","","6"],["","","","","6","9","","","4"],["","","5","","","","6","",""],["","7","4","5","","6","2","9",""],["9","","","3","","","1","4","5"],["5","","","9","4","","","6",""],["","","9","2","7","5","","",""],["8","2","7","","3","1","","",""]]},380:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.hardGrid2=r.hardGrid1=r.numOfHardrids=void 0,r.numOfHardrids=2,r.hardGrid1=[["","8","9","3","7","","","4",""],["3","","","","","","","",""],["","","","1","","","2","",""],["","","","","","8","","","4"],["","7","6","","9","","","8",""],["","5","","","","","","",""],["5","","","","","","","6",""],["4","","","","3","","","",""],["","6","3","7","","","","","1"]],r.hardGrid2=[["","","8","1","","","5","",""],["7","","","9","","","","",""],["","","4","","5","7","","6",""],["2","","","","4","5","8","",""],["","8","","","","","","9",""],["","","","","1","","","",""],["","","","7","","","","",""],["4","","","","8","2","9","",""],["","","6","","","","","","3"]]},427:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.mediumGrid2=r.mediumGrid1=r.numOfMediumGrids=void 0,r.numOfMediumGrids=2,r.mediumGrid1=[["9","","","","","4","","",""],["","","5","","","","","6",""],["","7","","","1","2","","","5"],["","","","8","","","","",""],["3","","","","","","9","",""],["","2","","","7","5","","","6"],["2","","","","8","1","","3",""],["","","","4","","","","","1"],["","8","","6","","","","",""]],r.mediumGrid2=[["5","","","2","","","","4",""],["6","","","","3","","","","2"],["","","","","","","3","","1"],["","8","","","4","","9","1",""],["","1","","3","","","","",""],["","9","","7","","","","6",""],["","6","","","","8","","2",""],["7","","","4","","","","9",""],["","","","","","","","",""]]},610:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getRandomHardGrid=r.getRandomMediumGrid=r.getRandomEasyGrid=void 0;var n=t(314),o=t(380),i=t(427);r.getRandomEasyGrid=function(){var e=Math.floor(100*Math.random()%n.numOfEasyGrids)+1,r="easyGrid".concat(e);return n[r]},r.getRandomMediumGrid=function(){var e=Math.floor(100*Math.random()%i.numOfMediumGrids)+1,r="mediumGrid".concat(e);return i[r]},r.getRandomHardGrid=function(){var e=Math.floor(100*Math.random()%o.numOfHardrids)+1,r="hardGrid".concat(e);return o[r]}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n].call(i.exports,i,i.exports,t),i.exports}(()=>{var e=t(148),r=t(741),n=t(284),o=t(295),i=t(610),a=document.getElementById("clear");null!==a?a.addEventListener("click",n.clearBoard):alert("we've got a problem with the check button :/");var u=document.getElementById("check");null!==u?u.addEventListener("click",e.checkGrid):alert("we've got a problem with the check button");var d=document.getElementById("undo");null!==d?d.addEventListener("click",o.undoStep):alert("we've got a problem with the undo button"),(0,r.createBoard)(i.getRandomEasyGrid())})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUksSUFBSyxJQUFLLElBQUssSUFBSyxHQUFJLEdBQUksSUFBSyxJQUN0QyxDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNsQyxDQUFDLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLElBQUssR0FBSSxJQUNuQyxDQUFDLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxLQUNsQyxDQUFDLEdBQUksSUFBSyxJQUFLLEdBQUksSUFBSyxHQUFJLEdBQUksSUFBSyxJQUNyQyxDQUFDLEdBQUksSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUNsQyxDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFBSyxJQUNuQyxDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksSUFBSyxHQUFJLEdBQUksR0FBSSxJQUNuQyxDQUFDLEdBQUksSUFBSyxJQUFLLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxNQWtCcEMsRUFBQUMsVUFmYyxDQUNkLENBQUMsR0FBSSxHQUFJLElBQUssSUFBSyxHQUFJLEdBQUksSUFBSyxHQUFJLElBQ3BDLENBQUMsSUFBSyxHQUFJLEdBQUksSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ25DLENBQUMsR0FBSSxHQUFJLElBQUssR0FBSSxJQUFLLElBQUssR0FBSSxJQUFLLElBQ3JDLENBQUMsSUFBSyxHQUFJLEdBQUksR0FBSSxJQUFLLElBQUssSUFBSyxHQUFJLElBQ3JDLENBQUMsR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLElBQ25DLENBQUMsR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLElBQ2xDLENBQUMsR0FBSSxHQUFJLEdBQUksSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLElBQ2xDLENBQUMsSUFBSyxHQUFJLEdBQUksR0FBSSxJQUFLLElBQUssSUFBSyxHQUFJLElBQ3JDLENBQUMsR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEsscUhDSWxDLEVBQUFDLGlCQTNCcUIsRUE0QnJCLEVBQUFDLFlBMUJnQixDQUNoQixDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxJQUNuQyxDQUFDLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksSUFBSyxJQUNuQyxDQUFDLEdBQUksSUFBSyxHQUFJLEdBQUksSUFBSyxJQUFLLEdBQUksR0FBSSxLQUNwQyxDQUFDLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSyxHQUFJLEdBQUksR0FBSSxJQUNuQyxDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxJQUNuQyxDQUFDLEdBQUksSUFBSyxHQUFJLEdBQUksSUFBSyxJQUFLLEdBQUksR0FBSSxLQUNwQyxDQUFDLElBQUssR0FBSSxHQUFJLEdBQUksSUFBSyxJQUFLLEdBQUksSUFBSyxJQUNyQyxDQUFDLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxLQUNsQyxDQUFDLEdBQUksSUFBSyxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxLQWtCbkMsRUFBQUMsWUFmZ0IsQ0FDaEIsQ0FBQyxJQUFLLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLElBQUssSUFDcEMsQ0FBQyxJQUFLLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksS0FDbkMsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxJQUFLLEdBQUksS0FDbEMsQ0FBQyxHQUFJLElBQUssR0FBSSxHQUFJLElBQUssR0FBSSxJQUFLLElBQUssSUFDckMsQ0FBQyxHQUFJLElBQUssR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDbkMsQ0FBQyxHQUFJLElBQUssR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLElBQUssSUFDcEMsQ0FBQyxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksSUFBSyxHQUFJLElBQUssSUFDcEMsQ0FBQyxJQUFLLEdBQUksR0FBSSxJQUFLLEdBQUksR0FBSSxHQUFJLElBQUssSUFDcEMsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSSxzSUN2QnJDLGFBQ0EsU0FDQSxTQTZCUyxFQUFBQyxrQkFyQmlCLFdBQ3RCLElBQU1DLEVBQVVDLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxTQUFpQkMsRUFBVWQsZ0JBQWtCLEVBQ3ZFZSxFQUFlLGtCQUFXTCxHQUVoQyxPQURpQkksRUFBVUMsRUFFL0IsRUFnQjRCLEVBQUFDLG9CQWRBLFdBQ3hCLElBQU1OLEVBQVVDLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxTQUFpQkksRUFBWVgsa0JBQW9CLEVBQzNFUyxFQUFlLG9CQUFhTCxHQUVsQyxPQURpQk8sRUFBWUYsRUFFakMsRUFTaUQsRUFBQUcsa0JBUHZCLFdBQ3RCLElBQU1SLEVBQVVDLEtBQUtDLE1BQXNCLElBQWhCRCxLQUFLRSxTQUFpQk0sRUFBVWhCLGVBQWlCLEVBQ3RFWSxFQUFlLGtCQUFXTCxHQUVoQyxPQURpQlMsRUFBVUosRUFFL0IsQyxHQzVCSUssRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCM0IsSUFBakI0QixFQUNILE9BQU9BLEVBQWFDLFFBR3JCLElBQUlDLEVBQVNMLEVBQXlCRSxHQUFZLENBR2pERSxRQUFTLENBQUMsR0FPWCxPQUhBRSxFQUFvQkosR0FBVUssS0FBS0YsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0gsR0FHcEVJLEVBQU9ELE9BQ2YsQyxNQ3JCQSxhQUNBLFNBQ0EsU0FDQSxTQUNBLFNBT01JLEVBQWN0RixTQUFTTyxlQUFlLFNBQ3pCLE9BQWhCK0UsRUFBc0JBLEVBQVkxRCxpQkFBaUIsUUFBUyxFQUFBdEIsWUFDMUQ3QixNQUFNLGdEQUVYLElBQU04RyxFQUFnQnZGLFNBQVNPLGVBQWUsU0FDekIsT0FBbEJnRixFQUF3QkEsRUFBYzNELGlCQUFpQixRQUFTLEVBQUF2RCxXQUM5REksTUFBTSw2Q0FFWCxJQUFNK0csRUFBYXhGLFNBQVNPLGVBQWUsUUFDekIsT0FBZmlGLEVBQXFCQSxFQUFXNUQsaUJBQWlCLFFBQVMsRUFBQXdCLFVBQ3hEM0UsTUFBTSw2Q0FNWCxJQUFBcUMsYUFBWTJFLEVBQVd0QixvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvQ2hlY2tpbmdHcmlkL2NoZWNraW5nR3JpZC50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL0dldHRlci9nZXRHcmlkLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvTWFuYWdpbmdHcmlkL2NsZWFyaW5nR3JpZC50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL01hbmFnaW5nR3JpZC9jcmVhdGluZ0dyaWQudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9NYW5hZ2luZ0dyaWQvdW5kby50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL1JlcG9zaXRvcnkvRWFzeUdyaWRzL2dyaWRzRWFzeS50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL1JlcG9zaXRvcnkvSGFyZEdyaWRzL2dyaWRzSGFyZC50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL1JlcG9zaXRvcnkvTWVkaXVtR3JpZHMvZ3JpZHNNZWRpdW0udHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9SZXBvc2l0b3J5L2dldHRpbmdSYW5kb21HcmlkLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDdXJyZW50R3JpZCB9IGZyb20gXCIuLi9HZXR0ZXIvZ2V0R3JpZFwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWNoZWNraW5nIHRoZSBHcmlkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gZnVuY3Rpb25zIGZvciB0aGUgY2hlY2sgQnV0dG9uXG5cbi8qKlxuICogdGhlIG1haW4gY2hlY2tpbmcgZnVuY3Rpb24gdGhhdCB3aWxsIHVzZSBhbGwgb3RoZXIgZnVuY3Rpb24gaW4gdGhpcyBmaWxlXG4gKi9cbmNvbnN0IGNoZWNrR3JpZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBvdXRwdXQ6IHN0cmluZztcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBpZiAoZyA9PT0gbnVsbCB8fCBnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0cHV0ID0gYHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggZmV0Y2hpbmcgdGhlIGdyaWQgOlNgO1xuICAgICAgICBhbGVydChvdXRwdXQpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1lbHNlIGlmIChncmlkSXNGdWxsKCkgIT0gdHJ1ZSkge1xuICAgICAgICBvdXRwdXQgPSBgdGhlIGdyaWQgaXMgbm90IGZ1bGx5IGZpbGxlZCA6U2A7XG4gICAgICAgIGFsZXJ0KG91dHB1dCk7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfWVsc2UgaWYgKGNoZWNrUm93c0FuZENvbHVtbnMoKSAhPSB0cnVlICYmIGNoZWNrQm94ZXMoKSAhPSB0cnVlKSB7XG4gICAgICAgIG91dHB1dCA9IGB0aGUgZ3JpZCBpcyBpbmNvcnJlY3QgOlNgO1xuICAgICAgICBhbGVydChvdXRwdXQpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1lbHNlIHtcbiAgICAgICAgb3V0cHV0ID0gYHRoZSBncmlkIGlzIGNvcnJlY3QgOkQuIFdlbGwgZG9uZSFgO1xuICAgICAgICBhbGVydChvdXRwdXQgKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dFxuICAgIH07XG59XG5cbmNvbnN0IGdyaWRJc0Z1bGwgPSAoKTogYm9vbGVhbiAgID0+IHtcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDk7IGorKykge1xuICAgICAgICAgICAgaWYgKGdbaV1bal0gPT0gXCJcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBhIGxvdCBvZiB0cm91YmxlIHdpdGggdGhpcyBvbmUuIFNldCB0aGUgY291bnRlciBBcnJheSB0byBhbGwgMHMgYWZ0ZXIgZWFjaCByb3cvY29sdW1uO1xuICogLS0+IGNvdW50aW5nIHRoZSBvY2N1cnJlbmNlIG9mIG51bWJlcnMgaW4gZWFjaCByb3cvY29sdW1uLCBjaGVja2luZyBpZiBpdCBpcyBlcXVhbCB0byAxXG4gKiBAcmV0dXJucyBib29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHN1ZG9rdSBncmlkJ3Mgcm93cyBhbmQgY29sdW1ucyBhcmUgY29ycmVjdCBcbiAqIGFzIHBlciBzdWRva3UgcnVsZXNcbiAqL1xuY29uc3QgY2hlY2tSb3dzQW5kQ29sdW1ucyA9ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBsZXQgY291bnRlclJvd3MgPSBuZXcgQXJyYXkoOSkuZmlsbCgwKTtcbiAgICBsZXQgY291bnRlckNvbHVtbnMgPSBuZXcgQXJyYXkoOSkuZmlsbCgwKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICBjb3VudGVyUm93cy5maWxsKDApOyBcbiAgICAgICAgY291bnRlckNvbHVtbnMuZmlsbCgwKTtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA5OyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG51bVJvdyA9IE51bWJlci5wYXJzZUludChnW2ldW2pdKTtcbiAgICAgICAgICAgIGNvbnN0IG51bUNvbCA9IE51bWJlci5wYXJzZUludChnW2pdW2ldKTtcbiAgICAgICAgICAgIGNvdW50ZXJSb3dzW251bVJvdy0xXSsrO1xuICAgICAgICAgICAgY291bnRlckNvbHVtbnNbbnVtQ29sLTFdKys7XG4gICAgICAgICAgICBpZihjb3VudGVyUm93c1tudW1Sb3ctMV0gIT0gMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgaWYoY291bnRlckNvbHVtbnNbbnVtQ29sLTFdICE9IDEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBldmVuIG9uZSBlbGVtIG9mIHRoZSBjb3VudEFycmF5cyBpcyBub3QgZXF1YWwgMSBmYWxzZSB3aWxsIGJlIHJldHVybmVkXG4gICAgICAgIC8vIGlmKGNvdW50ZXJSb3dzLnNvbWUoY291bnQgPT4gY291bnQgIT09IDkpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIGVsc2UgaWYoY291bnRlckNvbHVtbnMuc29tZShjb3VudCA9PiBjb3VudCAhPT0gOSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gZG9lc24ndCB3b3JrIGZvciB0aGUgaW5jb3JyZWN0IG9yZGVyIG9mIG51bWJlcnMgaW4gdGhlIGdyaWRcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cblxuLy8gYSBsaXR0bGUgdW5wbGVhc2FudCwgYnV0IGFzIG9mIHJpZ2h0IG5vdyBJIGRvbid0IGtub3cgd2hhdCBlbHNlIHRvIGRvIDovXG4vLyBATWUgc3VyZWx5IGl0IGNhbiBiZSBzb2x2ZWQgbW9yZSBlbGVnYW50bHkgYnV0IFwiZG9uJ3QgY2hhbmdlIGEgcnVubmluZyBzeXN0ZW1cIiA6RCBcbmNvbnN0IGNoZWNrQm94ZXMgPSAoKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gZmlyc3Qgcm93IG9mIGJveGVzOlxuICAgIGlmIChib3hDaGVja0hlbHBlcigwLCAyLCAwLCAyKSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoMCwgMiwgMywgNSkgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgaWYgKGJveENoZWNrSGVscGVyKDAsIDIsIDYsIDgpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICAvLyBzZWNvbmQgcm93IG9mIGJveGVzOlxuICAgIGVsc2UgaWYgKGJveENoZWNrSGVscGVyKDMsIDUsIDAsIDIpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIGlmIChib3hDaGVja0hlbHBlcigzLCA1LCA2LCA4KSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoMywgNSwgMCwgMikgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIHRoaXJkIHJvdyBvZiBib3hlczpcbiAgICBlbHNlIGlmIChib3hDaGVja0hlbHBlcig1LCA4LCAwLCAyKSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoNSwgOCwgMywgNSkgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgaWYgKGJveENoZWNrSGVscGVyKDUsIDgsIDUsIDgpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIHJldHVybiB0cnVlXG59XG5cbmNvbnN0IGJveENoZWNrSGVscGVyID0gKGZyb21Sb3c6IG51bWJlciwgdG9Sb3c6IG51bWJlciwgZnJvbUNvbHVtbjogbnVtYmVyLCB0b0NvbHVtbjogbnVtYmVyKTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3QgZyA9IGdldEN1cnJlbnRHcmlkKCk7XG4gICAgbGV0IGNvdW50ZXIgPSBuZXcgQXJyYXkoOSkuZmlsbCgwKTtcbiAgICAvLyBpZiAoZnJvbVJvdyA9PSBudWxsIHx8IGZyb21Sb3cgPT0gdW5kZWZpbmVkIHx8IHRvUm93ID09IG51bGwgfHwgdG9Sb3cgPT0gdW5kZWZpbmVkXG4gICAgLy8gICAgIHx8IGZyb21Db2x1bW4gPT0gbnVsbCB8fCBmcm9tQ29sdW1uID09IHVuZGVmaW5lZCB8fCB0b0NvbHVtbiA9PSBudWxsIHx8IHRvQ29sdW1uID09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSBmcm9tUm93OyBpIDw9IHRvUm93OyBpKyspIHtcbiAgICAgICAgZm9yIChsZXQgaiA9IGZyb21Db2x1bW47IGogPD0gdG9Db2x1bW47IGorKykge1xuICAgICAgICAgICAgY29uc3QgbnVtID0gTnVtYmVyLnBhcnNlSW50KGdbaV1bal0pO1xuICAgICAgICAgICAgY291bnRlcltudW0tMV0rKztcbiAgICAgICAgICAgIGlmIChjb3VudGVyW251bS0xXSA+IDEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgY2hlY2tHcmlkLCBjaGVja1Jvd3NBbmRDb2x1bW5zIH0iLCJcbi8vIGdldHRpbmcgdGhlIGN1cnJlbnQgR3JpZCBvdXQgb2YgRE9NXG5jb25zdCBnZXRDdXJyZW50R3JpZCA9ICgpOiBzdHJpbmdbXVtdID0+IHtcbiAgICBsZXQgZ3JpZDogc3RyaW5nW11bXSA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgZ3JpZFtpXSA9IG5ldyBBcnJheSg5KS5maWxsKFwiXCIpO1xuICAgIH1cbiAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XG4gICAgaWYoY2VsbHMgPT09IG51bGwpIHJldHVybiBbW1wiXCJdXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDw9IDg7IGkrKykge1xuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDw9IDg7IGorKykge1xuICAgICAgICAgICAgY29uc3QgdGVtcCA9IGNlbGxzW2kqOStqXTsgLy8gbWFwcHMgdGhlIDgxIGNlbGxzIHRvIHRoZSAyIGRpbSBhcnJheVxuICAgICAgICAgICAgaWYoISh0ZW1wIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKSByZXR1cm4gW1tgYF1dO1xuICAgICAgICAgICAgaWYoIXRlbXApIHJldHVybiBbW1wiXCJdXTsgLy8gY2hlY2tpbmcgaWYgdGVtcCBpcyBmYWxzeVxuICAgICAgICAgICAgY29uc3QgdGVtcE51bSA9IHRlbXAuaW5uZXJUZXh0O1xuICAgICAgICAgICAgZ3JpZFtpXVtqXSA9IHRlbXBOdW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmV4cG9ydCB7IGdldEN1cnJlbnRHcmlkIH0iLCJpbXBvcnQgeyBjcmVhdGVCb2FyZCB9IGZyb20gXCIuL2NyZWF0aW5nR3JpZFwiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWNsZWFyaW5nIHRoZSBHcmlkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBjcmVhdGVWb2lkQm9hcmQgPSAoKTogc3RyaW5nW11bXSA9PiB7XG4gICAgbGV0IGdyaWQ6IHN0cmluZ1tdW10gPSBbXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAgIGdyaWRbaV0gPSBuZXcgQXJyYXkoOSkuZmlsbChcIlwiKTtcbiAgICB9XG4gICAgcmV0dXJuIGdyaWQ7XG59XG5cbmNvbnN0IGRlbGV0ZUJvYXJkID0gKCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZ3JpZGApO1xuICAgIGlmKGdyaWQgPT09IG51bGwpIHJldHVybjtcbiAgICBncmlkLnJlbW92ZSgpO1xufVxuXG5jb25zdCBjbGVhckJvYXJkID0gKCk6IHZvaWQgPT4ge1xuICAgIGRlbGV0ZUJvYXJkKCk7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGRpdmApO1xuICAgIGlmKGdyaWQgPT09IG51bGwpIHJldHVybjtcbiAgICBncmlkLmlkID0gYGdyaWRgO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kKGdyaWQpO1xuICAgIGNyZWF0ZUJvYXJkKGNyZWF0ZVZvaWRCb2FyZCgpKTtcbn1cblxuZXhwb3J0IHsgY2xlYXJCb2FyZCB9IiwiaW1wb3J0IHsgdW5kb1N0YWNrIH0gZnJvbSBcIi4vdW5kb1wiO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLWNyZWF0aW5nIEdyaWQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBjcmVhdGluZyBHcmlkIHdpdGggZXZlbnRMaXN0ZW5lciBpbnB1dHRpbmcgY2VsbHNcbi8vIGEgZnVuY3Rpb24gY3JlYXRpbmcgYSA5eDkgZ3JpZCBvZiBzcXVhcmVzXG5jb25zdCBjcmVhdGVCb2FyZCA9ICh3aXRoR3JpZDogc3RyaW5nW11bXSk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdyaWRcIik7XG4gICAgaWYoZ3JpZCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgLy8gY3JlYXRlIDkgcm93cyBmb3IgdGhlIHN1ZG9rdSBncmlkXG4gICAgd2l0aEdyaWQuZm9yRWFjaCgoZWxlbTogU3RyaW5nW10sIHJvd0luZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmKHJvdyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICByb3cuY2xhc3NMaXN0LmFkZCgncm93Jyk7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoXCJyb3dcIiwgYCR7cm93SW5kZXh9YCk7XG4gICAgICAgIGlmIChyb3dJbmRleCA9PSAyIHx8IHJvd0luZGV4ID09IDUpIHJvdy5jbGFzc0xpc3QuYWRkKCd1bmRlcmxpbmUnKTtcbiAgICAgICAgZ3JpZC5hcHBlbmQocm93KTtcblxuICAgICAgICAvLyBpbnNlcnQgY2VsbHMgaW50byBlYWNoIHJvd1xuICAgICAgICBlbGVtLmZvckVhY2goKHZhbHVlOiBTdHJpbmcsIGNvbEluZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgaWYoY2VsbCA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJyb3dcIiwgYCR7cm93SW5kZXh9YClcbiAgICAgICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiY29sdW1uXCIsIGAke2NvbEluZGV4fWApXG4gICAgICAgICAgICBjZWxsLmNsYXNzTGlzdC5hZGQoXCJjZWxsXCIpO1xuICAgICAgICAgICAgaWYgKGNvbEluZGV4ID09IDIgfHwgY29sSW5kZXggPT0gNSkgY2VsbC5jbGFzc0xpc3QuYWRkKCdyaWdodGxpbmUnKTtcblxuICAgICAgICAgICAgLy8gY29uc3QgY2VsbE51bWJlciA9IE51bWJlci5wYXJzZUludCh2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmKHZhbHVlLnRvU3RyaW5nKCkgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkTnVtYmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBjZWxsLmlubmVyVGV4dCA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJvdy5hcHBlbmQoY2VsbCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBhZGROdW1iZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBlbGVtID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmICghKGVsZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBjb25zdCByb3cgPSBlbGVtLmdldEF0dHJpYnV0ZShcInJvd1wiKTtcbiAgICBjb25zdCBjb2x1bW4gPSBlbGVtLmdldEF0dHJpYnV0ZShcImNvbHVtblwiKTtcbiAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW3Jvdz1cIiR7cm93fVwiXVtjb2x1bW49XCIke2NvbHVtbn1cIl1gKTtcbiAgICBpZighKGNlbGwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBsZXQgbnVtOiBudW1iZXI7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBwcm9tdCA9IHByb21wdChcIkVudGVyIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgOTpcIik7XG4gICAgICAgIGlmKHByb210ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIG51bSA9IE51bWJlci5wYXJzZUludChwcm9tdCk7XG4gICAgfSB3aGlsZSAoaXNOYU4oTnVtYmVyKG51bSkpKVxuICAgIGlmICghaXNOYU4oTnVtYmVyKG51bSkpICYmIGNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IG51bWJlckJlZm9yZUNoYW5nZTogbnVtYmVyO1xuICAgICAgICBpZihjZWxsLmlubmVySFRNTCA9PT0gYGApIG51bWJlckJlZm9yZUNoYW5nZSA9IDA7XG4gICAgICAgIGVsc2UgbnVtYmVyQmVmb3JlQ2hhbmdlID0gTnVtYmVyLnBhcnNlSW50KGNlbGwuaW5uZXJIVE1MKTtcbiAgICAgICAgY2VsbC5pbm5lclRleHQgPSBudW0udG9TdHJpbmcoKTtcbiAgICAgICAgdW5kb1N0YWNrLnB1c2goW051bWJlci5wYXJzZUludChyb3cpLCBOdW1iZXIucGFyc2VJbnQoY29sdW1uKSwgbnVtYmVyQmVmb3JlQ2hhbmdlXSlcbiAgICB9XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUJvYXJkIH0iLCIvKipcbiAqIHVuZG8gaXMgaW1wbGVtZW50ZWQgYnkgYSBzdGFjayB0aGF0IHdpbGwgYmUgcHVzaGVkIChLb29yZGluYXRlcywgTnVtYmVyKSBcbiAqIHdoZW4gYSBudW1iZXIgZ2V0cyBhZGRlZCB0byB0aGUgZ3JpZFxuICogdGhlIHN0YWNrIHdpbGwgYmUgcG9wcGVkIHdoZW46IHRoZSB1bmRvIGJ1dHRvbiBpcyBwcmVzc2VkXG4gKiAtLT4gdGhlIHN0YWNrIG11c3QgYmUgZ2xvYmFsIG9mIHNvbWUga2luZDogZ2V0Q3VycmVudFN0YWNrXG4gKi9cblxuaW50ZXJmYWNlIElTdGFjazxUPiB7XG4gICAgcHVzaChpdGVtOiBUKTogdm9pZDtcbiAgICBwb3AoKTogVCB8IHVuZGVmaW5lZDtcbiAgICBwZWVrKCk6IFQgfCB1bmRlZmluZWQ7XG4gICAgc2l6ZSgpOiBUIHwgbnVtYmVyO1xufVxuXG5hYnN0cmFjdCBjbGFzcyBDb2xsZWN0aW9uPFQ+IHtcbiAgICBwcm90ZWN0ZWQgc3RvcmFnZTogVFtdID0gW107XG4gIFxuICAgIHNpemUoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UubGVuZ3RoO1xuICAgIH1cbiAgICBhYnN0cmFjdCBpc0Z1bGwoKTogYm9vbGVhbjtcbiAgfVxuXG4gIGNsYXNzIFN0YWNrQ29sbGVjdGlvbjxUPiBleHRlbmRzIENvbGxlY3Rpb248VD4gaW1wbGVtZW50cyBJU3RhY2s8VD4ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FwYWNpdHk6IG51bWJlciA9IEluZmluaXR5KSB7XG4gICAgICBzdXBlcigpO1xuICAgIH1cbiAgXG4gICAgcHVzaChpdGVtOiBUKSB7XG4gICAgICBpZiAodGhpcy5pc0Z1bGwoKSkge1xuICAgICAgICB0aHJvdyBFcnJvcihcIlN0YWNrIGhhcyByZWFjaGVkIG1heCBjYXBhY2l0eSwgeW91IGNhbm5vdCBhZGQgbW9yZSBpdGVtc1wiKTtcbiAgICAgIH1cbiAgICAgIC8vIEluIHRoZSBkZXJpdmVkIGNsYXNzLCB3ZSBjYW4gYWNjZXNzIHByb3RlY3RlZCBwcm9wZXJ0aWVzIG9mIHRoZSBhYnN0cmFjdCBjbGFzc1xuICAgICAgdGhpcy5zdG9yYWdlLnB1c2goaXRlbSk7XG4gICAgfVxuICBcbiAgICBwb3AoKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnBvcCgpO1xuICAgIH1cbiAgXG4gICAgcGVlaygpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2VbdGhpcy5zaXplKCkgLSAxXTtcbiAgICB9XG4gIFxuICAgIC8vIEltcGxlbWVudGF0aW9uIG9mIHRoZSBhYnN0cmFjdCBtZXRob2RcbiAgICBpc0Z1bGwoKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gdGhpcy5jYXBhY2l0eSA9PT0gdGhpcy5zaXplKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIGEgU3RhY2sgQ29sbGVjdGlvbiBmaWxsZWQgd2l0aCBhIDIgZGltIG51bWJlciBBcnJheTpcbiAgICogZS5nOiBpbiB0aGUgZ3JpZCB0aGUgY2VsbCBpbiByb3cgMywgY29sdW1uIDUgZ2V0cyB1cGRhdGVkIHRvIDc6XG4gICAqIHN0YWNrRm9yVW5kby5wdXNoKFszLDUsMF0pIC0tPiBpbiB0aGUgY3JlYXRpbmdHcmlkLmFkZE51bWJlcigpXG4gICAqIDAgc2F5cyBpbiB0aGlzIGNhc2UsIHRoYXQgb25lIHN0ZXAgYmVmb3JlIHRoZSBjZWxsIHdhcyBub3QgZmlsbGVkXG4gICAqIElmIHRoZSB1bmRvIGJ1dHRvbiBpcyBwcmVzc2VkIHRoZSBpbm5lclRleHQgaHRtbCBvZiB0aGUgY2VsbCBpbiByb3cgMywgY29sdW1uIDUgd2lsbCBiZSBzZXQgdG8gemVyby5cbiAgICogLi4uYW5kOiBzdGFja0ZvclVuZG8ucG9wKCkgLS0+IGluIHRoZSBjcmVhdGluZ0dyaWQuYWRkTnVtYmVyKClcbiAgICovXG4gIGNvbnN0IHVuZG9TdGFjayA9IG5ldyBTdGFja0NvbGxlY3Rpb248bnVtYmVyW10+KCk7XG5cbiAgY29uc3QgdW5kb1N0ZXAgPSAoKTogc3RyaW5nID0+IHtcbiAgICBpZih1bmRvU3RhY2sucGVlaygpID09PSBudWxsIHx8IHVuZG9TdGFjay5wZWVrKCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBzdHIgPSBgdW5kb1N0YWNrIGlzIG51bGwgb3IgdW5kZWZpbmVkYDtcbiAgICAgICAgYWxlcnQoc3RyKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9IGVsc2UgaWYodW5kb1N0YWNrLnNpemUoKSA9PT0gMCkge1xuICAgICAgICBjb25zdCBzdHIgPSBgdGhlIHVuZG9TdGFjayBpcyBub3QgeWV0IGJ1aWx0YDtcbiAgICAgICAgYWxlcnQoc3RyKTtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgY29uc3QgYXJyID0gdW5kb1N0YWNrLnBvcCgpO1xuICAgIGlmKGFyci5sZW5ndGggIT09IDMpIHtcbiAgICAgICAgY29uc3Qgc3RyID0gYHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggZmV0Y2hpbmcgYW4gdW5kb1N0YWNrLWVsZW1lbnRgO1xuICAgICAgICBhbGVydChzdHIpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW3Jvdz1cIiR7YXJyWzBdfVwiXVtjb2x1bW49XCIke2FyclsxXX1cIl1gKTtcbiAgICBjb25zb2xlLmxvZyhgdW5kaWQgcm93ICR7YXJyWzBdKzF9IGNvbHVtbiAke2FyclsxXSsxfSBmcm9tICR7Y2VsbC5pbm5lckhUTUx9IHRvICR7YXJyWzJdfWApO1xuICAgIGlmKGFyclsyXSA9PT0gMCkgY2VsbC5pbm5lckhUTUwgPSBgYDtcbiAgICBlbHNlIGNlbGwuaW5uZXJIVE1MID0gYXJyWzJdLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIGBnb29kIHdvcmsgbWF0ZWA7XG4gIH1cblxuXG5leHBvcnR7IHVuZG9TdGFjaywgdW5kb1N0ZXAgfSIsImNvbnN0IG51bU9mRWFzeUdyaWRzID0gMjtcblxuY29uc3QgZWFzeUdyaWQxID0gW1xuICAgIFtcIjhcIiwgXCIyXCIsIFwiN1wiLCBcIjNcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI0XCIsIFwiOVwiXSxcbiAgICBbXCI2XCIsIFwiNFwiLCBcIjlcIiwgXCJcIiwgXCI1XCIsIFwiXCIsIFwiOFwiLCBcIjNcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiNFwiLCBcIjhcIiwgXCI5XCIsIFwiNlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCI2XCIsIFwiXCIsIFwiMVwiLCBcIjJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiMlwiLCBcIjFcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI3XCIsIFwiXCIsIFwiXCIsIFwiNlwiXSxcbiAgICBbXCI0XCIsIFwiOVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjFcIiwgXCI1XCIsIFwiN1wiXSxcbiAgICBbXCIxXCIsIFwiOFwiLCBcIlwiLCBcIlwiLCBcIjJcIiwgXCI0XCIsIFwiN1wiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI3XCIsIFwiM1wiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCIzXCIsIFwiXCIsIFwiNFwiLCBcIjFcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl1cbl07XG5cbmNvbnN0IGVhc3lHcmlkMiA9IFtcbiAgICBbXCI0XCIsIFwiOVwiLCBcIlwiLCBcIjhcIiwgXCJcIiwgXCJcIiwgXCI1XCIsIFwiMVwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCIxXCIsIFwiOFwiLCBcIlwiLCBcIjVcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI2XCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjZcIiwgXCI5XCIsIFwiXCIsIFwiXCIsIFwiNFwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCI1XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiNlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCI3XCIsIFwiNFwiLCBcIjVcIiwgXCJcIiwgXCI2XCIsIFwiMlwiLCBcIjlcIiwgXCJcIl0sXG4gICAgW1wiOVwiLCBcIlwiLCBcIlwiLCBcIjNcIiwgXCJcIiwgXCJcIiwgXCIxXCIsIFwiNFwiLCBcIjVcIl0sXG4gICAgW1wiNVwiLCBcIlwiLCBcIlwiLCBcIjlcIiwgXCI0XCIsIFwiXCIsIFwiXCIsIFwiNlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCI5XCIsIFwiMlwiLCBcIjdcIiwgXCI1XCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIjhcIiwgXCIyXCIsIFwiN1wiLCBcIlwiLCBcIjNcIiwgXCIxXCIsIFwiXCIsIFwiXCIsIFwiXCJdXG5dXG5cbmV4cG9ydCB7XG4gICAgbnVtT2ZFYXN5R3JpZHMsXG4gICAgZWFzeUdyaWQxLFxuICAgIGVhc3lHcmlkMlxufSIsImNvbnN0IG51bU9mSGFyZHJpZHMgPSAyO1xuXG5jb25zdCBoYXJkR3JpZDEgPSBbXG4gICAgW1wiXCIsIFwiOFwiLCBcIjlcIiwgXCIzXCIsIFwiN1wiLCBcIlwiLCBcIlwiLCBcIjRcIiwgXCJcIl0sXG4gICAgW1wiM1wiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCIxXCIsIFwiXCIsIFwiXCIsIFwiMlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI4XCIsIFwiXCIsIFwiXCIsIFwiNFwiXSxcbiAgICBbXCJcIiwgXCI3XCIsIFwiNlwiLCBcIlwiLCBcIjlcIiwgXCJcIiwgXCJcIiwgXCI4XCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIjVcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiNVwiLCBcIlwiLCBcIlwiLCBcIlwiICxcIlwiLCBcIlwiLCBcIlwiLCBcIjZcIiwgXCJcIl0sXG4gICAgW1wiNFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjNcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiNlwiLCBcIjNcIiwgXCI3XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiMVwiXVxuXTtcblxuY29uc3QgaGFyZEdyaWQyID0gW1xuICAgIFtcIlwiLCBcIlwiLCBcIjhcIiwgXCIxXCIsIFwiXCIsIFwiXCIsIFwiNVwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCI3XCIsIFwiXCIsIFwiXCIsIFwiOVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCI0XCIsIFwiXCIsIFwiNVwiLCBcIjdcIiwgXCJcIiwgXCI2XCIsIFwiXCJdLFxuICAgIFtcIjJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI0XCIsIFwiNVwiLCBcIjhcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiOFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjlcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiMVwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCI3XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIjRcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI4XCIsIFwiMlwiLCBcIjlcIiwgXCJcIiwgXCJcIl0sXG4gICAgW1wiXCIsIFwiXCIsIFwiNlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjNcIl1cbl07XG5cbmV4cG9ydCB7XG4gICAgbnVtT2ZIYXJkcmlkcyxcbiAgICBoYXJkR3JpZDEsXG4gICAgaGFyZEdyaWQyXG59IiwiY29uc3QgbnVtT2ZNZWRpdW1HcmlkcyA9IDI7XG5cbmNvbnN0IG1lZGl1bUdyaWQxID0gW1xuICAgIFtcIjlcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI0XCIsIFwiXCIsIFwiXCIsIFwiXCJdLCBcbiAgICBbXCJcIiwgXCJcIiwgXCI1XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiNlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCI3XCIsIFwiXCIsIFwiXCIsIFwiMVwiLCBcIjJcIiwgXCJcIiwgXCJcIiwgXCI1XCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIjhcIiwgXCJcIiAsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIjNcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI5XCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIjJcIiwgXCJcIiwgXCJcIiwgXCI3XCIsIFwiNVwiLCBcIlwiLCBcIlwiLCBcIjZcIl0sXG4gICAgW1wiMlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIjhcIiwgXCIxXCIsIFwiXCIsIFwiM1wiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCI0XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiMVwiXSxcbiAgICBbXCJcIiwgXCI4XCIsIFwiXCIsIFwiNlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXVxuXTtcblxuY29uc3QgbWVkaXVtR3JpZDIgPSBbXG4gICAgW1wiNVwiLCBcIlwiLCBcIlwiLCBcIjJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI0XCIsIFwiXCJdLFxuICAgIFtcIjZcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCIzXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiMlwiXSxcbiAgICBbXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCIzXCIsIFwiXCIsIFwiMVwiXSxcbiAgICBbXCJcIiwgXCI4XCIsIFwiXCIsIFwiXCIsIFwiNFwiLCBcIlwiLCBcIjlcIiwgXCIxXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIjFcIiwgXCJcIiwgXCIzXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIjlcIiwgXCJcIiwgXCI3XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiNlwiLCBcIlwiXSxcbiAgICBbXCJcIiwgXCI2XCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiOFwiLCBcIlwiLCBcIjJcIiwgXCJcIl0sXG4gICAgW1wiN1wiLCBcIlwiLCBcIlwiLCBcIjRcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCI5XCIsIFwiXCJdLFxuICAgIFtcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiXVxuXTtcblxuZXhwb3J0IHtcbiAgICBudW1PZk1lZGl1bUdyaWRzLFxuICAgIG1lZGl1bUdyaWQxLFxuICAgIG1lZGl1bUdyaWQyXG59IiwiaW1wb3J0ICogYXMgRWFzeUdyaWRzIGZyb20gXCIuL0Vhc3lHcmlkcy9ncmlkc0Vhc3lcIjtcbmltcG9ydCAqIGFzIEhhcmRHcmlkcyBmcm9tIFwiLi9IYXJkR3JpZHMvZ3JpZHNIYXJkXCI7XG5pbXBvcnQgKiBhcyBNZWRpdW1HcmlkcyBmcm9tIFwiLi9NZWRpdW1Hcmlkcy9ncmlkc01lZGl1bVwiO1xuXG4vKipcbiAqIG5vdGU6IHVzaW5nIEJyYWNrZXQgTm90YXRpb24gdG8gQWNjZXNzIHRoZSBHcmlkIFJlcG9zIHJlc3BlY3RpdmVseVxuICogZS5nOiBcIkVhc3lHcmlkc1tyYW5kR3JpZE5hbWVdXCJcIiBpcyBlcXVpdmFsZW50IHRvOlxuICogXCJFYXN5R3JpZHMuZWFzeUdyaWQxXCIsIGlmIHJhbmRHcmlkTmFtZSBpcyBcImVhc3lHcmlkMVwiXG4gKi9cblxuY29uc3QgZ2V0UmFuZG9tRWFzeUdyaWQgPSAoKTogc3RyaW5nW11bXSA9PiB7XG4gICAgY29uc3QgcmFuZE51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCAlIEVhc3lHcmlkcy5udW1PZkVhc3lHcmlkcykgKyAxO1xuICAgIGNvbnN0IHJhbmRHcmlkTmFtZSA9IGBlYXN5R3JpZCR7cmFuZE51bX1gO1xuICAgIGNvbnN0IHJhbmRHcmlkID0gRWFzeUdyaWRzW3JhbmRHcmlkTmFtZV07XG4gICAgcmV0dXJuIHJhbmRHcmlkO1xufVxuXG5jb25zdCBnZXRSYW5kb21NZWRpdW1HcmlkID0gKCk6IHN0cmluZ1tdW10gPT4ge1xuICAgIGNvbnN0IHJhbmROdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAgJSBNZWRpdW1Hcmlkcy5udW1PZk1lZGl1bUdyaWRzKSArIDE7XG4gICAgY29uc3QgcmFuZEdyaWROYW1lID0gYG1lZGl1bUdyaWQke3JhbmROdW19YDtcbiAgICBjb25zdCByYW5kR3JpZCA9IE1lZGl1bUdyaWRzW3JhbmRHcmlkTmFtZV07XG4gICAgcmV0dXJuIHJhbmRHcmlkO1xufVxuXG5jb25zdCBnZXRSYW5kb21IYXJkR3JpZCA9ICgpOiBzdHJpbmdbXVtdID0+IHtcbiAgICBjb25zdCByYW5kTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwICUgSGFyZEdyaWRzLm51bU9mSGFyZHJpZHMpICsgMTtcbiAgICBjb25zdCByYW5kR3JpZE5hbWUgPSBgaGFyZEdyaWQke3JhbmROdW19YDtcbiAgICBjb25zdCByYW5kR3JpZCA9IEhhcmRHcmlkc1tyYW5kR3JpZE5hbWVdO1xuICAgIHJldHVybiByYW5kR3JpZDtcbn1cblxuZXhwb3J0IHsgZ2V0UmFuZG9tRWFzeUdyaWQsIGdldFJhbmRvbU1lZGl1bUdyaWQsIGdldFJhbmRvbUhhcmRHcmlkIH07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCAqIGFzIFJlcG9zaXRvcnkgZnJvbSBcIi4vUmVwb3NpdG9yeS9zdWRva3VUZXN0R3JpZFwiO1xuaW1wb3J0IHsgY2hlY2tHcmlkIH0gZnJvbSBcIi4vQ2hlY2tpbmdHcmlkL2NoZWNraW5nR3JpZFwiO1xuaW1wb3J0IHsgY3JlYXRlQm9hcmQgfSBmcm9tIFwiLi9NYW5hZ2luZ0dyaWQvY3JlYXRpbmdHcmlkXCI7XG5pbXBvcnQgeyBjbGVhckJvYXJkIH0gZnJvbSBcIi4vTWFuYWdpbmdHcmlkL2NsZWFyaW5nR3JpZFwiO1xuaW1wb3J0IHsgdW5kb1N0ZXAgfSBmcm9tIFwiLi9NYW5hZ2luZ0dyaWQvdW5kb1wiO1xuaW1wb3J0ICogYXMgUmFuZG9tR3JpZCBmcm9tIFwiLi9SZXBvc2l0b3J5L2dldHRpbmdSYW5kb21HcmlkXCI7XG4vLyBpbXBvcnQgeyBnZXRDdXJyZW50R3JpZCB9IGZyb20gXCIuL0dldHRlci9nZXRHcmlkXCI7XG5cbi8vIGRlYnVnZ2VyO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tYnV0dG9ucy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY29uc3QgY2xlYXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgY2xlYXJgKTtcbmlmKGNsZWFyQnV0dG9uICE9PSBudWxsKSBjbGVhckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGBjbGlja2AsIGNsZWFyQm9hcmQpO1xuZWxzZSBhbGVydChgd2UndmUgZ290IGEgcHJvYmxlbSB3aXRoIHRoZSBjaGVjayBidXR0b24gOi9gKTtcblxuY29uc3QgY2hlY2tlckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2tcIik7XG5pZihjaGVja2VyQnV0dG9uICE9PSBudWxsKSBjaGVja2VyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjaGVja0dyaWQpO1xuZWxzZSBhbGVydChgd2UndmUgZ290IGEgcHJvYmxlbSB3aXRoIHRoZSBjaGVjayBidXR0b25gKTtcblxuY29uc3QgdW5kb0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1bmRvYCk7XG5pZih1bmRvQnV0dG9uICE9PSBudWxsKSB1bmRvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgdW5kb1N0ZXApO1xuZWxzZSBhbGVydChgd2UndmUgZ290IGEgcHJvYmxlbSB3aXRoIHRoZSB1bmRvIGJ1dHRvbmApO1xuXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1leGVjdXRpbmctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gY3JlYXRlQm9hcmQoUmFuZG9tR3JpZC5nZXRSYW5kb21IYXJkR3JpZCgpKTtcbi8vIGNyZWF0ZUJvYXJkKFJhbmRvbUdyaWQuZ2V0UmFuZG9tTWVkaXVtR3JpZCgpKTtcbmNyZWF0ZUJvYXJkKFJhbmRvbUdyaWQuZ2V0UmFuZG9tRWFzeUdyaWQoKSk7Il0sIm5hbWVzIjpbImNoZWNrR3JpZCIsIm91dHB1dCIsImciLCJnZXRDdXJyZW50R3JpZCIsImFsZXJ0IiwiZ3JpZElzRnVsbCIsImNoZWNrUm93c0FuZENvbHVtbnMiLCJjaGVja0JveGVzIiwiaSIsImoiLCJjb3VudGVyUm93cyIsIkFycmF5IiwiZmlsbCIsImNvdW50ZXJDb2x1bW5zIiwibnVtUm93IiwiTnVtYmVyIiwicGFyc2VJbnQiLCJudW1Db2wiLCJib3hDaGVja0hlbHBlciIsImZyb21Sb3ciLCJ0b1JvdyIsImZyb21Db2x1bW4iLCJ0b0NvbHVtbiIsImNvdW50ZXIiLCJudW0iLCJncmlkIiwiY2VsbHMiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0ZW1wIiwiSFRNTEVsZW1lbnQiLCJ0ZW1wTnVtIiwiaW5uZXJUZXh0IiwiY2xlYXJCb2FyZCIsImdldEVsZW1lbnRCeUlkIiwicmVtb3ZlIiwiZGVsZXRlQm9hcmQiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJib2R5IiwiYXBwZW5kIiwiY3JlYXRlQm9hcmQiLCJjcmVhdGVWb2lkQm9hcmQiLCJ3aXRoR3JpZCIsImZvckVhY2giLCJlbGVtIiwicm93SW5kZXgiLCJyb3ciLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRBdHRyaWJ1dGUiLCJ2YWx1ZSIsImNvbEluZGV4IiwiY2VsbCIsInRvU3RyaW5nIiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZE51bWJlciIsImV2ZW50IiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiY29sdW1uIiwicXVlcnlTZWxlY3RvciIsInByb210IiwicHJvbXB0IiwiaXNOYU4iLCJudW1iZXJCZWZvcmVDaGFuZ2UiLCJpbm5lckhUTUwiLCJ1bmRvU3RhY2siLCJwdXNoIiwiY2FwYWNpdHkiLCJpdGVtIiwidGhpcyIsImlzRnVsbCIsIkVycm9yIiwic3RvcmFnZSIsInBvcCIsInBlZWsiLCJzaXplIiwibGVuZ3RoIiwidW5kb1N0ZXAiLCJ1bmRlZmluZWQiLCJzdHIiLCJhcnIiLCJjb25zb2xlIiwibG9nIiwibnVtT2ZFYXN5R3JpZHMiLCJlYXN5R3JpZDEiLCJlYXN5R3JpZDIiLCJudW1PZkhhcmRyaWRzIiwiaGFyZEdyaWQxIiwiaGFyZEdyaWQyIiwibnVtT2ZNZWRpdW1HcmlkcyIsIm1lZGl1bUdyaWQxIiwibWVkaXVtR3JpZDIiLCJnZXRSYW5kb21FYXN5R3JpZCIsInJhbmROdW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJFYXN5R3JpZHMiLCJyYW5kR3JpZE5hbWUiLCJnZXRSYW5kb21NZWRpdW1HcmlkIiwiTWVkaXVtR3JpZHMiLCJnZXRSYW5kb21IYXJkR3JpZCIsIkhhcmRHcmlkcyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsImNsZWFyQnV0dG9uIiwiY2hlY2tlckJ1dHRvbiIsInVuZG9CdXR0b24iLCJSYW5kb21HcmlkIl0sInNvdXJjZVJvb3QiOiIifQ==