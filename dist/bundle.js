(()=>{"use strict";var e={346:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Cell=void 0;class l{constructor(e=null,t=null,l=null,o=0){this.row=e,this.column=t,this.box=null===e||null===t?null:3*Math.floor(this.row/3)+Math.floor(this.column/3),this.value=o,this.possibleValues=l}getRow(){return this.row}getColumn(){return this.column}getBox(){return this.box}getPossibleValues(){return this.possibleValues}getValue(){return this.value}setValue(e){this.value=e}setPossibleValues(e){this.possibleValues=e}clone(){return new l(this.row,this.column,[...this.possibleValues],this.value)}removePossibleValue(e){const t=this.possibleValues.indexOf(e);t>-1&&this.possibleValues.splice(t,1)}isEmpty(){return 0===this.value||null===this.value}}t.Cell=l},393:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Grid=void 0;const o=l(346);t.Grid=class{constructor(e){this.cells=[];for(let t=0;t<9;t++)for(let l=0;l<9;l++){const r=e[t][l],n=new o.Cell(t,l,0!==r?[]:[1,2,3,4,5,6,7,8,9],0!==r?r:0);this.cells.push(n)}}getCells(){return this.cells}getCell(e,t){for(let l=0;l<9;l++)for(let o=0;o<9;o++)if(l===e&&o===t)return this.cells[9*l+o]}toNumberArray(){const e=[];for(let t=0;t<9;t++){const l=[];for(let e=0;e<9;e++){const o=this.getCell(t,e);l.push(o.getValue())}e.push(l)}return e}}},12:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentGrid=void 0,t.getCurrentGrid=()=>{let e=[];for(let t=0;t<9;t++)e[t]=new Array(9).fill(null);const t=document.querySelectorAll(".cell");if(null==t)return null;for(let l=0;l<=8;l++)for(let o=0;o<=8;o++){const r=t[9*l+o];if(!(r instanceof HTMLElement))return null;if(!r)return null;const n=r.innerText;e[l][o]=Number(n)}return e}},945:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createBoard=void 0;const o=l(410);t.createBoard=e=>{const t=document.getElementById("grid");null!=t&&e.forEach(((e,l)=>{const o=document.createElement("div");null!==o&&(o.classList.add("row"),o.setAttribute("row",`${l}`),2!==l&&5!==l||o.classList.add("underline"),t.append(o),e.forEach(((e,t)=>{const n=document.createElement("div");null!==n&&(n.setAttribute("row",`${l}`),n.setAttribute("column",`${t}`),n.classList.add("cell"),2!=t&&5!=t||n.classList.add("rightline"),null===e||0===e?(n.setAttribute("type","button"),n.addEventListener("click",r)):n.innerText=e.toString(),o.append(n))})))}))};const r=e=>{const t=e.target;if(!(t instanceof HTMLElement))return;const l=t.getAttribute("row"),r=t.getAttribute("column"),n=document.querySelector(`[row="${l}"][column="${r}"]`);if(!(n instanceof HTMLElement))return;let s;do{const e=prompt("Enter a number between 1 and 9:");if(null===e)return;s=Number.parseInt(e)}while(isNaN(Number(s)));if(!isNaN(Number(s))&&null!==n){let e;e=""===n.innerHTML?0:Number.parseInt(n.innerHTML),n.innerText=s.toString(),o.undoStack.push([Number.parseInt(l),Number.parseInt(r),e])}}},614:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.testGridFilledWrong=t.testGridFilledRight=t.testGrid=void 0,t.testGrid=[[0,5,0,0,3,0,0,0,0],[0,6,9,0,0,0,5,0,1],[0,0,7,9,0,0,0,4,8],[7,9,0,1,0,5,6,8,2],[4,2,0,3,8,9,7,0,5],[1,8,0,0,6,0,0,0,0],[0,0,8,0,0,0,4,0,0],[0,7,0,5,0,4,0,0,0],[0,0,0,0,7,3,0,5,6]],t.testGridFilledRight=[["8","5","4","7","3","1","2","6","9"],["3","6","9","4","2","8","5","7","1"],["2","1","7","9","5","6","3","4","8"],["7","9","3","1","4","5","6","8","2"],["4","2","6","3","8","9","7","1","5"],["1","8","5","2","6","7","9","3","4"],["5","3","8","6","1","2","4","9","7"],["6","7","1","5","9","4","8","2","3"],["9","4","2","8","7","3","1","5","6"]],t.testGridFilledWrong=[["5","8","4","7","3","1","2","6","9"],["3","6","9","4","2","8","5","7","1"],["2","1","7","9","5","6","3","4","8"],["7","9","3","1","4","5","6","8","2"],["4","2","6","3","8","9","7","1","5"],["1","8","5","2","6","7","9","3","4"],["5","3","8","6","1","2","4","9","7"],["6","7","1","5","9","4","8","2","3"],["9","4","2","8","7","3","1","5","6"]]},38:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkRowsAndColumns=t.checkGrid=void 0;const o=l(12);t.checkGrid=()=>{let e;return null==(0,o.getCurrentGrid)()?(e="something went wrong with fetching the grid :S",alert(e),e):!0!==r()?(e="the grid is not fully filled :S",alert(e),e):!0!==n()&&!0!==s()?(e="the grid is incorrect :S",alert(e),e):(e="the grid is correct :D. Well done!",alert(e),e)};const r=()=>{const e=(0,o.getCurrentGrid)();for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(null==e[t][l])return!1;return!0},n=()=>{const e=(0,o.getCurrentGrid)();let t=new Array(9).fill(0),l=new Array(9).fill(0);for(let o=0;o<9;o++){t.fill(0),l.fill(0);for(let r=0;r<9;r++){const n=e[o][r],s=e[r][o];if(t[n-1]++,l[s-1]++,1!=t[n-1])return!1;if(1!=l[s-1])return!1}}return!0};t.checkRowsAndColumns=n;const s=()=>1==i(0,2,0,2)&&1==i(0,2,3,5)&&1==i(0,2,6,8)&&1==i(3,5,0,2)&&1==i(3,5,6,8)&&1==i(3,5,0,2)&&1==i(5,8,0,2)&&1==i(5,8,3,5)&&1==i(5,8,5,8),i=(e,t,l,r)=>{const n=(0,o.getCurrentGrid)();let s=new Array(9).fill(0);for(let o=e;o<=t;o++)for(let e=l;e<=r;e++){const t=n[o][e];if(s[t-1]++,s[t-1]>1)return!1}return!0}},296:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBoard=t.clearBoard=void 0;const o=l(945),r=()=>{const e=document.getElementById("grid");if(null!==e)for(;e.lastChild;)e.removeChild(e.lastChild)};t.deleteBoard=r,t.clearBoard=()=>{r(),(0,o.createBoard)((()=>{let e=[];for(let t=0;t<9;t++)e[t]=new Array(9).fill(null);return e})())}},10:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.solveGrid=void 0;const o=l(12),r=l(296),n=l(945),s=l(393),i=l(828);t.solveGrid=()=>{console.log("the solve button was pressed.");const e=(0,o.getCurrentGrid)(),t=new s.Grid(e),l=(0,i.solveSudoku)(t).toNumberArray();(0,r.deleteBoard)(),(0,n.createBoard)(l)}},410:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.undoStep=t.undoStack=void 0;class l{constructor(){this.storage=[]}size(){return this.storage.length}}const o=new class extends l{constructor(e=1/0){super(),this.capacity=e}push(e){if(this.isFull())throw Error("Stack has reached max capacity, you cannot add more items");this.storage.push(e)}pop(){return this.storage.pop()}peek(){return this.storage[this.size()-1]}isFull(){return this.capacity===this.size()}};t.undoStack=o,t.undoStep=()=>{if(null===o.peek()||void 0===o.peek()){const e="undoStack is null or undefined";return alert(e),e}if(0===o.size()){const e="the undoStack is not yet built";return alert(e),e}const e=o.pop();if(3!==e.length){const e="something went wrong with fetching an undoStack-element";return alert(e),e}const t=document.querySelector(`[row="${e[0]}"][column="${e[1]}"]`);return console.log(`undid row ${e[0]+1} column ${e[1]+1} from ${t.innerHTML} to ${e[2]}`),0===e[2]?t.innerHTML="":t.innerHTML=e[2].toString(),"good work mate"}},412:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyHiddenSingle=void 0,t.applyHiddenSingle=e=>{for(let t=0;t<9;t++)for(let l=0;l<9;l++){const o=e.getCell(t,l);if(o.isEmpty()){const r=o.getPossibleValues();for(let n=0;n<9;n++)if(n!==l&&e.getCell(t,n).isEmpty()){const l=e.getCell(t,n).getPossibleValues();r.forEach((e=>{l.includes(e)||o.removePossibleValue(e)}))}for(let n=0;n<9;n++)if(n!==t&&e.getCell(n,l).isEmpty()){const t=e.getCell(n,l).getPossibleValues();r.forEach((e=>{t.includes(e)||o.removePossibleValue(e)}))}const n=3*Math.floor(t/3),s=3*Math.floor(l/3);for(let i=n;i<n+3;i++)for(let n=s;n<s+3;n++)if(i!==t&&n!==l&&e.getCell(i,n).isEmpty()){const t=e.getCell(i,n).getPossibleValues();r.forEach((e=>{t.includes(e)||o.removePossibleValue(e)}))}o.setPossibleValues(r)}}return e}},608:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyPointingPairs=void 0;const o=l(393);t.applyPointingPairs=e=>{const t=new o.Grid(e.toNumberArray());for(let e=0;e<9;e+=3)for(let l=0;l<9;l+=3){const o=new Set,r=[];for(let n=e;n<e+3;n++)for(let e=l;e<l+3;e++){const l=t.getCell(n,e);if(l.isEmpty()){const t=l.getPossibleValues();for(const e of t)o.add(e);r.push({row:n,column:e})}}for(const n of o){let o,s,i=!0,u=!0;for(const{row:e,column:l}of r)t.getCell(e,l).getPossibleValues().includes(n)&&(void 0===o?o=e:o!==e&&(i=!1),void 0===s?s=l:s!==l&&(u=!1));if(i&&void 0!==o){const e=l+3-l%3;for(let r=l-l%3;r<e;r++)if(r<l||r>=l+3){const e=t.getCell(o,r);e.isEmpty()&&e.getPossibleValues().includes(n)&&e.removePossibleValue(n)}}if(u&&void 0!==s){const l=e+3-e%3;for(let o=e-e%3;o<l;o++)if(o<e||o>=e+3){const e=t.getCell(o,s);e.isEmpty()&&e.getPossibleValues().includes(n)&&e.removePossibleValue(n)}}}}return t}},517:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applySudokuRules=void 0,t.applySudokuRules=e=>(e.getCells().forEach((t=>{const l=t.getRow(),o=t.getColumn(),r=t.getBox(),n=t.getPossibleValues();for(let o=0;o<9;o++){const r=e.getCell(l,o).getValue();null!==r&&n.includes(r)&&t.removePossibleValue(r)}for(let l=0;l<9;l++){const r=e.getCell(l,o).getValue();null!==r&&n.includes(r)&&t.removePossibleValue(r)}const s=3*Math.floor(r/3),i=r%3*3;for(let l=s;l<s+3;l++)for(let o=i;o<i+3;o++){const r=e.getCell(l,o).getValue();null!==r&&n.includes(r)&&t.removePossibleValue(r)}t.setPossibleValues(n)})),e)},828:(e,t,l)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.solveSudoku=void 0;const o=l(412),r=l(517),n=l(608);t.solveSudoku=e=>{console.log("inside 'solveSudoku' method.");let t=!1,l=!1,s=0;do{l=!1;let i=(0,o.applyHiddenSingle)(e);e!==i&&(e=i,l=!0),i=(0,r.applySudokuRules)(e),e!==i&&(e=i,l=!0),i=(0,n.applyPointingPairs)(e),e!==i&&(e=i,l=!0),t=e.getCells().every((e=>0!==e.getValue())),s++}while(!t&&l&&s<=10);return e}}},t={};function l(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,l),n.exports}(()=>{const e=l(38),t=l(945),o=l(296),r=l(410),n=l(614),s=l(10),i=document.getElementById("clear");null!==i?i.addEventListener("click",o.clearBoard):alert("we've got a problem with the check button :/");const u=document.getElementById("check");null!==u?u.addEventListener("click",e.checkGrid):alert("we've got a problem with the check button"),window.addEventListener("keydown",(function(e){"z"===e.key&&!0===e.ctrlKey&&(e.preventDefault(),(0,r.undoStep)())}));const c=document.getElementById("undo");null!==c?c.addEventListener("click",r.undoStep):alert("we've got a problem with the undo button");const d=document.getElementById("solve");null!==d||void 0!==d?d.addEventListener("click",s.solveGrid):alert("we've got a problem with the undo button"),(0,t.createBoard)(n.testGrid)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsSUErQnpCLEVBQUFDLG9CQTdCb0MsQ0FDcEMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FFekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FFekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssTUFtQnpDLEVBQUFDLG9CQWpCb0MsQ0FDcEMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FFekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FFekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssS0FDekMsQ0FBQyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFB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QixNQUFNLDZDQU9iLElBQUFoQyxhQUFZa0gsRUFBS3hGLFMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL0VudGl0aWVzL0NlbGwudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9FbnRpdGllcy9HcmlkLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvR2V0dGVyL2dldEdyaWQudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9NYW5hZ2luZ0dyaWQvY3JlYXRlLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvUmVwb3NpdG9yeS9UZXN0aW5nR3JpZHMvc3Vkb2t1VGVzdEdyaWQudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9idXR0b24vY2hlY2tpbmdHcmlkLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvYnV0dG9uL2NsZWFyLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvYnV0dG9uL3NvbHZlLnRzIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvYnV0dG9uL3VuZG8udHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9zb2x2ZUdyaWQvcmVkdWNlUG9zc2liaWxpdGllcy9oaWRkZW5TaW5nbGUudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9zb2x2ZUdyaWQvcmVkdWNlUG9zc2liaWxpdGllcy9wb2ludGluZ1BhaXIudHMiLCJ3ZWJwYWNrOi8vc3Vkb2t1d2VicGFjay8uL3NyYy9zb2x2ZUdyaWQvcmVkdWNlUG9zc2liaWxpdGllcy9zdWRva3VSdWxlcy50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrLy4vc3JjL3NvbHZlR3JpZC9zb2x2ZVN1ZG9rdS50cyIsIndlYnBhY2s6Ly9zdWRva3V3ZWJwYWNrL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3N1ZG9rdXdlYnBhY2svLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgQ2VsbCB7XG5cdHByaXZhdGUgcm93OiBudW1iZXI7XG5cdHByaXZhdGUgY29sdW1uOiBudW1iZXI7XG5cdHByaXZhdGUgYm94OiBudW1iZXI7XG5cdHByaXZhdGUgdmFsdWU6IG51bWJlcjtcblx0cHJpdmF0ZSBwb3NzaWJsZVZhbHVlczogbnVtYmVyW107XG5cblx0Y29uc3RydWN0b3Iocm93OiBudW1iZXIgPSBudWxsLCBjb2x1bW46IG51bWJlciA9IG51bGwsIHBvc3NpYmxlc1ZhbHVlczogbnVtYmVyW10gPSBudWxsLCB2YWx1ZTogbnVtYmVyID0gMCkge1xuXHRcdHRoaXMucm93ID0gcm93O1xuXHRcdHRoaXMuY29sdW1uID0gY29sdW1uO1xuXHRcdC8vIGJveE51bWJlciA9IGJveFJvdyAqIDMgKyBib3hDb2x1bW5cblx0XHRpZiAocm93ID09PSBudWxsIHx8IGNvbHVtbiA9PT0gbnVsbCkgdGhpcy5ib3ggPSBudWxsO1xuXHRcdGVsc2UgdGhpcy5ib3ggPSBNYXRoLmZsb29yKHRoaXMucm93IC8gMykgKiAzICsgTWF0aC5mbG9vcih0aGlzLmNvbHVtbiAvIDMpO1xuXHRcdHRoaXMudmFsdWUgPSB2YWx1ZTtcblx0XHR0aGlzLnBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVzVmFsdWVzO1xuXHR9XG5cblxuXHRwdWJsaWMgZ2V0Um93KCkgeyByZXR1cm4gdGhpcy5yb3cgfVxuXHRwdWJsaWMgZ2V0Q29sdW1uKCkgeyByZXR1cm4gdGhpcy5jb2x1bW4gfVxuXHRwdWJsaWMgZ2V0Qm94KCkgeyByZXR1cm4gdGhpcy5ib3ggfVxuXHRwdWJsaWMgZ2V0UG9zc2libGVWYWx1ZXMoKTogbnVtYmVyW10geyByZXR1cm4gdGhpcy5wb3NzaWJsZVZhbHVlcyB9XG5cdHB1YmxpYyBnZXRWYWx1ZSgpIHsgcmV0dXJuIHRoaXMudmFsdWU7IH1cblxuXHRwdWJsaWMgc2V0VmFsdWUodmFsdWU6IG51bWJlcikgeyB0aGlzLnZhbHVlID0gdmFsdWUgfVxuXHRwdWJsaWMgc2V0UG9zc2libGVWYWx1ZXMocG9zc2libGVzVmFsdWVzOiBudW1iZXJbXSkgeyB0aGlzLnBvc3NpYmxlVmFsdWVzID0gcG9zc2libGVzVmFsdWVzIH1cblxuXHRwdWJsaWMgY2xvbmUoKTogQ2VsbCB7XG5cdFx0Y29uc3QgY29waWVkQ2VsbCA9IG5ldyBDZWxsKHRoaXMucm93LCB0aGlzLmNvbHVtbiwgWy4uLnRoaXMucG9zc2libGVWYWx1ZXNdLCB0aGlzLnZhbHVlKTtcblx0XHRyZXR1cm4gY29waWVkQ2VsbDtcblx0fVxuXG5cdHB1YmxpYyByZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlOiBudW1iZXIpIHtcblx0XHRjb25zdCBpbmRleCA9IHRoaXMucG9zc2libGVWYWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cdFx0aWYgKGluZGV4ID4gLTEpIHtcblx0XHRcdHRoaXMucG9zc2libGVWYWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgaXNFbXB0eSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy52YWx1ZSA9PT0gMCB8fCB0aGlzLnZhbHVlID09PSBudWxsO1xuXHR9XG5cblx0Ly8gcHVibGljIGluY2x1ZGVzUG9zc2liaWxpdHkodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xuXHQvLyBcdHJldHVybiB0aGlzLnBvc3NpYmxlVmFsdWVzLmluY2x1ZGVzKHZhbHVlKTtcblx0Ly8gfVxufVxuXG5leHBvcnQgeyBDZWxsIH1cbiIsImltcG9ydCB7IENlbGwgfSBmcm9tIFwiLi9DZWxsXCI7XG5cbmNsYXNzIEdyaWQge1xuICAgIGNlbGxzOiBDZWxsW107XG5cbiAgICBjb25zdHJ1Y3RvcihncmlkRGF0YTogbnVtYmVyW11bXSkge1xuICAgICAgICB0aGlzLmNlbGxzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgOTsgcm93KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDk7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBncmlkRGF0YVtyb3ddW2NvbF07XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IG5ldyBDZWxsKHJvdywgY29sLCB2YWx1ZSAhPT0gMCA/IFtdIDogWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDldLCB2YWx1ZSAhPT0gMCA/IHZhbHVlIDogMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jZWxscy5wdXNoKGNlbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldENlbGxzKCkgeyByZXR1cm4gdGhpcy5jZWxsczsgfVxuXG4gICAgcHVibGljIGdldENlbGwocm93SW5kZXg6IG51bWJlciwgY29sdW1uSW5kZXg6IG51bWJlcikge1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IDk7IHIrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCA5OyBjKyspIHtcbiAgICAgICAgICAgICAgICBpZiAociA9PT0gcm93SW5kZXggJiYgYyA9PT0gY29sdW1uSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2VsbHNbciAqIDkgKyBjXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgdG9OdW1iZXJBcnJheSgpOiBudW1iZXJbXVtdIHtcbiAgICAgICAgY29uc3QgbnVtQXJyYXk6IG51bWJlcltdW10gPSBbXTtcblxuICAgICAgICBmb3IgKGxldCByb3cgPSAwOyByb3cgPCA5OyByb3crKykge1xuICAgICAgICAgICAgY29uc3Qgcm93RGF0YTogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IDk7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IHRoaXMuZ2V0Q2VsbChyb3csIGNvbCk7XG4gICAgICAgICAgICAgICAgcm93RGF0YS5wdXNoKGNlbGwuZ2V0VmFsdWUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBudW1BcnJheS5wdXNoKHJvd0RhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bUFycmF5O1xuICAgIH1cblxufVxuXG5leHBvcnQgeyBHcmlkIH0iLCJcbi8vIGdldHRpbmcgdGhlIGN1cnJlbnQgR3JpZCBvdXQgb2YgRE9NXG5jb25zdCBnZXRDdXJyZW50R3JpZCA9ICgpOiBudW1iZXJbXVtdID0+IHtcbiAgICBsZXQgZ3JpZDogbnVtYmVyW11bXSA9IFtdO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgZ3JpZFtpXSA9IG5ldyBBcnJheSg5KS5maWxsKG51bGwpO1xuICAgIH1cbiAgICBjb25zdCBjZWxscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jZWxsJyk7XG4gICAgaWYoY2VsbHMgPT09IG51bGwgfHwgY2VsbHMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gICAgZm9yKGxldCBpID0gMDsgaSA8PSA4OyBpKyspIHtcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8PSA4OyBqKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSBjZWxsc1tpKjkral07IC8vIG1hcHBzIHRoZSA4MSBjZWxscyB0byB0aGUgMiBkaW0gYXJyYXlcbiAgICAgICAgICAgIGlmKCEodGVtcCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBpZighdGVtcCkgcmV0dXJuIG51bGw7IC8vIGNoZWNraW5nIGlmIHRlbXAgaXMgZmFsc3lcbiAgICAgICAgICAgIGNvbnN0IHRlbXBOdW0gPSB0ZW1wLmlubmVyVGV4dDtcbiAgICAgICAgICAgIGdyaWRbaV1bal0gPSBOdW1iZXIodGVtcE51bSk7IC8vIHJldHVybiAnMCcgd2hlbiAndGVtcE51bSA9IG51bGwnIVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBncmlkO1xufVxuXG5leHBvcnQgeyBnZXRDdXJyZW50R3JpZCB9IiwiaW1wb3J0IHsgdW5kb1N0YWNrIH0gZnJvbSBcIi4uL2J1dHRvbi91bmRvXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tY3JlYXRpbmcgR3JpZC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIGNyZWF0aW5nIEdyaWQgd2l0aCBldmVudExpc3RlbmVyIGlucHV0dGluZyBjZWxsc1xuLy8gYSBmdW5jdGlvbiBjcmVhdGluZyBhIDl4OSBncmlkIG9mIHNxdWFyZXNcbmNvbnN0IGNyZWF0ZUJvYXJkID0gKHdpdGhHcmlkOiBudW1iZXJbXVtdKTogdm9pZCA9PiB7XG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3JpZFwiKTtcbiAgICBpZihncmlkID09PSBudWxsIHx8IGdyaWQgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgLy8gY3JlYXRlIDkgcm93cyBmb3IgdGhlIHN1ZG9rdSBncmlkXG4gICAgd2l0aEdyaWQuZm9yRWFjaCgoZWxlbTogbnVtYmVyW10sIHJvd0luZGV4OiBudW1iZXIpID0+IHtcbiAgICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmKHJvdyA9PT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICByb3cuY2xhc3NMaXN0LmFkZCgncm93Jyk7XG4gICAgICAgIHJvdy5zZXRBdHRyaWJ1dGUoXCJyb3dcIiwgYCR7cm93SW5kZXh9YCk7XG4gICAgICAgIGlmIChyb3dJbmRleCA9PT0gMiB8fCByb3dJbmRleCA9PT0gNSkgcm93LmNsYXNzTGlzdC5hZGQoJ3VuZGVybGluZScpO1xuICAgICAgICBncmlkLmFwcGVuZChyb3cpO1xuXG4gICAgICAgIC8vIGluc2VydCBjZWxscyBpbnRvIGVhY2ggcm93XG4gICAgICAgIGVsZW0uZm9yRWFjaCgodmFsdWU6IG51bWJlciwgY29sSW5kZXg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBpZihjZWxsID09PSBudWxsKSByZXR1cm47XG4gICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcInJvd1wiLCBgJHtyb3dJbmRleH1gKVxuICAgICAgICAgICAgY2VsbC5zZXRBdHRyaWJ1dGUoXCJjb2x1bW5cIiwgYCR7Y29sSW5kZXh9YClcbiAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZChcImNlbGxcIik7XG4gICAgICAgICAgICBpZiAoY29sSW5kZXggPT0gMiB8fCBjb2xJbmRleCA9PSA1KSBjZWxsLmNsYXNzTGlzdC5hZGQoJ3JpZ2h0bGluZScpO1xuXG4gICAgICAgICAgICAvLyBjb25zdCBjZWxsTnVtYmVyID0gTnVtYmVyLnBhcnNlSW50KHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgaWYodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJidXR0b25cIik7XG4gICAgICAgICAgICAgICAgY2VsbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYWRkTnVtYmVyKTtcbiAgICAgICAgICAgIH0gZWxzZSBjZWxsLmlubmVyVGV4dCA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJvdy5hcHBlbmQoY2VsbCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5jb25zdCBhZGROdW1iZXIgPSAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBlbGVtID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmICghKGVsZW0gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBjb25zdCByb3cgPSBlbGVtLmdldEF0dHJpYnV0ZShcInJvd1wiKTtcbiAgICBjb25zdCBjb2x1bW4gPSBlbGVtLmdldEF0dHJpYnV0ZShcImNvbHVtblwiKTtcbiAgICBjb25zdCBjZWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW3Jvdz1cIiR7cm93fVwiXVtjb2x1bW49XCIke2NvbHVtbn1cIl1gKTtcbiAgICBpZighKGNlbGwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpIHJldHVybjtcbiAgICBsZXQgbnVtOiBudW1iZXI7XG4gICAgZG8ge1xuICAgICAgICBjb25zdCBwcm9tdCA9IHByb21wdChcIkVudGVyIGEgbnVtYmVyIGJldHdlZW4gMSBhbmQgOTpcIik7XG4gICAgICAgIGlmKHByb210ID09PSBudWxsKSByZXR1cm47XG4gICAgICAgIG51bSA9IE51bWJlci5wYXJzZUludChwcm9tdCk7XG4gICAgfSB3aGlsZSAoaXNOYU4oTnVtYmVyKG51bSkpKVxuICAgIGlmICghaXNOYU4oTnVtYmVyKG51bSkpICYmIGNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgbGV0IG51bWJlckJlZm9yZUNoYW5nZTogbnVtYmVyO1xuICAgICAgICBpZihjZWxsLmlubmVySFRNTCA9PT0gYGApIG51bWJlckJlZm9yZUNoYW5nZSA9IDA7XG4gICAgICAgIGVsc2UgbnVtYmVyQmVmb3JlQ2hhbmdlID0gTnVtYmVyLnBhcnNlSW50KGNlbGwuaW5uZXJIVE1MKTtcbiAgICAgICAgY2VsbC5pbm5lclRleHQgPSBudW0udG9TdHJpbmcoKTtcbiAgICAgICAgdW5kb1N0YWNrLnB1c2goW051bWJlci5wYXJzZUludChyb3cpLCBOdW1iZXIucGFyc2VJbnQoY29sdW1uKSwgbnVtYmVyQmVmb3JlQ2hhbmdlXSlcbiAgICB9XG59XG5cbmV4cG9ydCB7IGNyZWF0ZUJvYXJkIH1cbiIsIi8vIG1heWJlOiBnZXR0aW5nIGEgcmFuZG9tIGdyaWQgZnJvbSBhIERCIGxhdGVyIChteSBvd24gb3IgYSBwdWJsaWMpXG4vLyBlZGl0OiBybHkgbmVjZXNzYXJ5P1xuY29uc3QgdGVzdEdyaWQ6IG51bWJlcltdW10gPSBbXG4gICAgWzAsIDUsIDAsIDAsIDMsIDAsIDAsIDAsIDBdLFxuICAgIFswLCA2LCA5LCAwLCAwLCAwLCA1LCAwLCAxXSxcbiAgICBbMCwgMCwgNywgOSwgMCwgMCwgMCwgNCwgOF0sXG5cbiAgICBbNywgOSwgMCwgMSwgMCwgNSwgNiwgOCwgMl0sXG4gICAgWzQsIDIsIDAsIDMsIDgsIDksIDcsIDAsIDVdLFxuICAgIFsxLCA4LCAwLCAwLCA2LCAwLCAwLCAwLCAwXSxcblxuICAgIFswLCAwLCA4LCAwLCAwLCAwLCA0LCAwLCAwXSxcbiAgICBbMCwgNywgMCwgNSwgMCwgNCwgMCwgMCwgMF0sXG4gICAgWzAsIDAsIDAsIDAsIDcsIDMsIDAsIDUsIDZdXG5dO1xuY29uc3QgdGVzdEdyaWRGaWxsZWRSaWdodDogc3RyaW5nW11bXSA9IFtcbiAgICBbXCI4XCIsIFwiNVwiLCBcIjRcIiwgXCI3XCIsIFwiM1wiLCBcIjFcIiwgXCIyXCIsIFwiNlwiLCBcIjlcIl0sXG4gICAgW1wiM1wiLCBcIjZcIiwgXCI5XCIsIFwiNFwiLCBcIjJcIiwgXCI4XCIsIFwiNVwiLCBcIjdcIiwgXCIxXCJdLFxuICAgIFtcIjJcIiwgXCIxXCIsIFwiN1wiLCBcIjlcIiwgXCI1XCIsIFwiNlwiLCBcIjNcIiwgXCI0XCIsIFwiOFwiXSxcblxuICAgIFtcIjdcIiwgXCI5XCIsIFwiM1wiLCBcIjFcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI4XCIsIFwiMlwiXSxcbiAgICBbXCI0XCIsIFwiMlwiLCBcIjZcIiwgXCIzXCIsIFwiOFwiLCBcIjlcIiwgXCI3XCIsIFwiMVwiLCBcIjVcIl0sXG4gICAgW1wiMVwiLCBcIjhcIiwgXCI1XCIsIFwiMlwiLCBcIjZcIiwgXCI3XCIsIFwiOVwiLCBcIjNcIiwgXCI0XCJdLFxuXG4gICAgW1wiNVwiLCBcIjNcIiwgXCI4XCIsIFwiNlwiLCBcIjFcIiwgXCIyXCIsIFwiNFwiLCBcIjlcIiwgXCI3XCJdLFxuICAgIFtcIjZcIiwgXCI3XCIsIFwiMVwiLCBcIjVcIiwgXCI5XCIsIFwiNFwiLCBcIjhcIiwgXCIyXCIsIFwiM1wiXSxcbiAgICBbXCI5XCIsIFwiNFwiLCBcIjJcIiwgXCI4XCIsIFwiN1wiLCBcIjNcIiwgXCIxXCIsIFwiNVwiLCBcIjZcIl1cbl07XG5jb25zdCB0ZXN0R3JpZEZpbGxlZFdyb25nOiBzdHJpbmdbXVtdID0gW1xuICAgIFtcIjVcIiwgXCI4XCIsIFwiNFwiLCBcIjdcIiwgXCIzXCIsIFwiMVwiLCBcIjJcIiwgXCI2XCIsIFwiOVwiXSxcbiAgICBbXCIzXCIsIFwiNlwiLCBcIjlcIiwgXCI0XCIsIFwiMlwiLCBcIjhcIiwgXCI1XCIsIFwiN1wiLCBcIjFcIl0sXG4gICAgW1wiMlwiLCBcIjFcIiwgXCI3XCIsIFwiOVwiLCBcIjVcIiwgXCI2XCIsIFwiM1wiLCBcIjRcIiwgXCI4XCJdLFxuXG4gICAgW1wiN1wiLCBcIjlcIiwgXCIzXCIsIFwiMVwiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjhcIiwgXCIyXCJdLFxuICAgIFtcIjRcIiwgXCIyXCIsIFwiNlwiLCBcIjNcIiwgXCI4XCIsIFwiOVwiLCBcIjdcIiwgXCIxXCIsIFwiNVwiXSxcbiAgICBbXCIxXCIsIFwiOFwiLCBcIjVcIiwgXCIyXCIsIFwiNlwiLCBcIjdcIiwgXCI5XCIsIFwiM1wiLCBcIjRcIl0sXG5cbiAgICBbXCI1XCIsIFwiM1wiLCBcIjhcIiwgXCI2XCIsIFwiMVwiLCBcIjJcIiwgXCI0XCIsIFwiOVwiLCBcIjdcIl0sXG4gICAgW1wiNlwiLCBcIjdcIiwgXCIxXCIsIFwiNVwiLCBcIjlcIiwgXCI0XCIsIFwiOFwiLCBcIjJcIiwgXCIzXCJdLFxuICAgIFtcIjlcIiwgXCI0XCIsIFwiMlwiLCBcIjhcIiwgXCI3XCIsIFwiM1wiLCBcIjFcIiwgXCI1XCIsIFwiNlwiXVxuXTtcblxuZXhwb3J0e1xuICAgIHRlc3RHcmlkLFxuICAgIHRlc3RHcmlkRmlsbGVkUmlnaHQsXG4gICAgdGVzdEdyaWRGaWxsZWRXcm9uZ1xufSIsImltcG9ydCB7IGdldEN1cnJlbnRHcmlkIH0gZnJvbSBcIi4uL0dldHRlci9nZXRHcmlkXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tY2hlY2tpbmcgdGhlIEdyaWQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBmdW5jdGlvbnMgZm9yIHRoZSBjaGVjayBCdXR0b25cblxuLyoqXG4gKiB0aGUgbWFpbiBjaGVja2luZyBmdW5jdGlvbiB0aGF0IHdpbGwgdXNlIGFsbCBvdGhlciBmdW5jdGlvbiBpbiB0aGlzIGZpbGUgKGFuZCBnZXR0aW5nIHRoZSBjdXJyZW50IGdyaWQpXG4gKi9cbmNvbnN0IGNoZWNrR3JpZCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGxldCBvdXRwdXQ6IHN0cmluZztcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBpZiAoZyA9PT0gbnVsbCB8fCBnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb3V0cHV0ID0gYHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggZmV0Y2hpbmcgdGhlIGdyaWQgOlNgO1xuICAgICAgICBhbGVydChvdXRwdXQpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1lbHNlIGlmIChncmlkSXNGdWxsKCkgIT09IHRydWUpIHtcbiAgICAgICAgb3V0cHV0ID0gYHRoZSBncmlkIGlzIG5vdCBmdWxseSBmaWxsZWQgOlNgO1xuICAgICAgICBhbGVydChvdXRwdXQpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1lbHNlIGlmIChjaGVja1Jvd3NBbmRDb2x1bW5zKCkgIT09IHRydWUgJiYgY2hlY2tCb3hlcygpICE9PSB0cnVlKSB7XG4gICAgICAgIG91dHB1dCA9IGB0aGUgZ3JpZCBpcyBpbmNvcnJlY3QgOlNgO1xuICAgICAgICBhbGVydChvdXRwdXQpO1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1lbHNlIHtcbiAgICAgICAgb3V0cHV0ID0gYHRoZSBncmlkIGlzIGNvcnJlY3QgOkQuIFdlbGwgZG9uZSFgO1xuICAgICAgICBhbGVydChvdXRwdXQgKTtcbiAgICAgICAgcmV0dXJuIG91dHB1dFxuICAgIH07XG59XG5cbmNvbnN0IGdyaWRJc0Z1bGwgPSAoKTogYm9vbGVhbiAgID0+IHtcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDk7IGorKykge1xuICAgICAgICAgICAgaWYgKGdbaV1bal0gPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBhIGxvdCBvZiB0cm91YmxlIHdpdGggdGhpcyBvbmUuIFNldCB0aGUgY291bnRlciBBcnJheSB0byBhbGwgMHMgYWZ0ZXIgZWFjaCByb3cvY29sdW1uO1xuICogLS0+IGNvdW50aW5nIHRoZSBvY2N1cnJlbmNlIG9mIG51bWJlcnMgaW4gZWFjaCByb3cvY29sdW1uLCBjaGVja2luZyBpZiBpdCBpcyBlcXVhbCB0byAxXG4gKiBAcmV0dXJucyBib29sZWFuIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIHN1ZG9rdSBncmlkJ3Mgcm93cyBhbmQgY29sdW1ucyBhcmUgY29ycmVjdCBcbiAqIGFzIHBlciBzdWRva3UgcnVsZXNcbiAqL1xuY29uc3QgY2hlY2tSb3dzQW5kQ29sdW1ucyA9ICgpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBjdXJyZW50R3JpZCA9IGdldEN1cnJlbnRHcmlkKCk7XG4gICAgbGV0IGNvdW50ZXJSb3dzID0gbmV3IEFycmF5KDkpLmZpbGwoMCk7XG4gICAgbGV0IGNvdW50ZXJDb2x1bW5zID0gbmV3IEFycmF5KDkpLmZpbGwoMCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgICAgY291bnRlclJvd3MuZmlsbCgwKTsgXG4gICAgICAgIGNvdW50ZXJDb2x1bW5zLmZpbGwoMCk7XG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgOTsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBudW1Sb3cgPSBjdXJyZW50R3JpZFtpXVtqXTtcbiAgICAgICAgICAgIGNvbnN0IG51bUNvbCA9IGN1cnJlbnRHcmlkW2pdW2ldO1xuICAgICAgICAgICAgY291bnRlclJvd3NbbnVtUm93LTFdKys7XG4gICAgICAgICAgICBjb3VudGVyQ29sdW1uc1tudW1Db2wtMV0rKztcbiAgICAgICAgICAgIGlmKGNvdW50ZXJSb3dzW251bVJvdy0xXSAhPSAxKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZihjb3VudGVyQ29sdW1uc1tudW1Db2wtMV0gIT0gMSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGV2ZW4gb25lIGVsZW0gb2YgdGhlIGNvdW50QXJyYXlzIGlzIG5vdCBlcXVhbCAxIGZhbHNlIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgICAgLy8gaWYoY291bnRlclJvd3Muc29tZShjb3VudCA9PiBjb3VudCAhPT0gOSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgLy8gZWxzZSBpZihjb3VudGVyQ29sdW1ucy5zb21lKGNvdW50ID0+IGNvdW50ICE9PSA5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAvLyBkb2Vzbid0IHdvcmsgZm9yIHRoZSBpbmNvcnJlY3Qgb3JkZXIgb2YgbnVtYmVycyBpbiB0aGUgZ3JpZFxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vLyBhIGxpdHRsZSB1bnBsZWFzYW50LCBidXQgYXMgb2YgcmlnaHQgbm93IEkgZG9uJ3Qga25vdyB3aGF0IGVsc2UgdG8gZG8gOi9cbi8vIEBNZSBzdXJlbHkgaXQgY2FuIGJlIHNvbHZlZCBtb3JlIGVsZWdhbnRseSBidXQgXCJkb24ndCBjaGFuZ2UgYSBydW5uaW5nIHN5c3RlbVwiIDpEIFxuY29uc3QgY2hlY2tCb3hlcyA9ICgpOiBib29sZWFuID0+IHtcbiAgICAvLyBmaXJzdCByb3cgb2YgYm94ZXM6XG4gICAgaWYgKGJveENoZWNrSGVscGVyKDAsIDIsIDAsIDIpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIGlmIChib3hDaGVja0hlbHBlcigwLCAyLCAzLCA1KSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoMCwgMiwgNiwgOCkgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIHNlY29uZCByb3cgb2YgYm94ZXM6XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoMywgNSwgMCwgMikgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgaWYgKGJveENoZWNrSGVscGVyKDMsIDUsIDYsIDgpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIGlmIChib3hDaGVja0hlbHBlcigzLCA1LCAwLCAyKSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gdGhpcmQgcm93IG9mIGJveGVzOlxuICAgIGVsc2UgaWYgKGJveENoZWNrSGVscGVyKDUsIDgsIDAsIDIpICE9IHRydWUpIHJldHVybiBmYWxzZTtcbiAgICBlbHNlIGlmIChib3hDaGVja0hlbHBlcig1LCA4LCAzLCA1KSAhPSB0cnVlKSByZXR1cm4gZmFsc2U7XG4gICAgZWxzZSBpZiAoYm94Q2hlY2tIZWxwZXIoNSwgOCwgNSwgOCkgIT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xuICAgIGVsc2UgcmV0dXJuIHRydWVcbn1cblxuY29uc3QgYm94Q2hlY2tIZWxwZXIgPSAoZnJvbVJvdzogbnVtYmVyLCB0b1JvdzogbnVtYmVyLCBmcm9tQ29sdW1uOiBudW1iZXIsIHRvQ29sdW1uOiBudW1iZXIpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBnID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBsZXQgY291bnRlciA9IG5ldyBBcnJheSg5KS5maWxsKDApO1xuICAgIC8vIGlmIChmcm9tUm93ID09IG51bGwgfHwgZnJvbVJvdyA9PSB1bmRlZmluZWQgfHwgdG9Sb3cgPT0gbnVsbCB8fCB0b1JvdyA9PSB1bmRlZmluZWRcbiAgICAvLyAgICAgfHwgZnJvbUNvbHVtbiA9PSBudWxsIHx8IGZyb21Db2x1bW4gPT0gdW5kZWZpbmVkIHx8IHRvQ29sdW1uID09IG51bGwgfHwgdG9Db2x1bW4gPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IGZyb21Sb3c7IGkgPD0gdG9Sb3c7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gZnJvbUNvbHVtbjsgaiA8PSB0b0NvbHVtbjsgaisrKSB7XG4gICAgICAgICAgICBjb25zdCBudW0gPSBnW2ldW2pdO1xuICAgICAgICAgICAgY291bnRlcltudW0tMV0rKztcbiAgICAgICAgICAgIGlmIChjb3VudGVyW251bS0xXSA+IDEpIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgY2hlY2tHcmlkLCBjaGVja1Jvd3NBbmRDb2x1bW5zIH0iLCJpbXBvcnQgeyBjcmVhdGVCb2FyZCB9IGZyb20gXCIuLi9NYW5hZ2luZ0dyaWQvY3JlYXRlXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tY2xlYXJpbmcgdGhlIEdyaWQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNvbnN0IGNyZWF0ZVZvaWRHcmlkID0gKCk6IG51bWJlcltdW10gPT4ge1xuICAgIGxldCBncmlkOiBudW1iZXJbXVtdID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IDk7IGkrKykge1xuICAgICAgICBncmlkW2ldID0gbmV3IEFycmF5KDkpLmZpbGwobnVsbCk7XG4gICAgfVxuICAgIHJldHVybiBncmlkO1xufVxuXG5jb25zdCBkZWxldGVCb2FyZCA9ICgpOiB2b2lkID0+IHtcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGdyaWRgKTtcbiAgICBpZihncmlkID09PSBudWxsKSByZXR1cm47XG4gICAgd2hpbGUoZ3JpZC5sYXN0Q2hpbGQpIHtcbiAgICAgICAgZ3JpZC5yZW1vdmVDaGlsZChncmlkLmxhc3RDaGlsZCk7XG4gICAgfVxufVxuXG5jb25zdCBjbGVhckJvYXJkID0gKCk6IHZvaWQgPT4ge1xuICAgIGRlbGV0ZUJvYXJkKCk7XG4gICAgY3JlYXRlQm9hcmQoY3JlYXRlVm9pZEdyaWQoKSk7XG59XG5cbmV4cG9ydCB7IGNsZWFyQm9hcmQsIGRlbGV0ZUJvYXJkIH0iLCJpbXBvcnQgeyBnZXRDdXJyZW50R3JpZCB9IGZyb20gXCIuLi9HZXR0ZXIvZ2V0R3JpZFwiO1xuLy8gaW1wb3J0IHsgZmluZE51bWJlcnMgfSBmcm9tIFwiLi9maW5kTWlzc2luZ051bWJlcnNcIjtcbmltcG9ydCB7IGNsZWFyQm9hcmQsIGRlbGV0ZUJvYXJkIH0gZnJvbSBcIi4vY2xlYXJcIjtcbmltcG9ydCB7IGNyZWF0ZUJvYXJkIH0gZnJvbSBcIi4uL01hbmFnaW5nR3JpZC9jcmVhdGVcIjtcbmltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi4vRW50aXRpZXMvR3JpZFwiO1xuaW1wb3J0IHsgc29sdmVTdWRva3UgfSBmcm9tIFwiLi4vc29sdmVHcmlkL3NvbHZlU3Vkb2t1XCI7XG5cbmNvbnN0IHNvbHZlR3JpZCA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZyhgdGhlIHNvbHZlIGJ1dHRvbiB3YXMgcHJlc3NlZC5gKVxuICAgIGNvbnN0IGN1cnJlbnRHcmlkOiBudW1iZXJbXVtdID0gZ2V0Q3VycmVudEdyaWQoKTtcbiAgICBjb25zdCBncmlkOiBHcmlkID0gbmV3IEdyaWQoY3VycmVudEdyaWQpO1xuICAgIGNvbnN0IHJlc3VsdGluZ0dyaWQ6IEdyaWQgPSBzb2x2ZVN1ZG9rdShncmlkKTtcbiAgICBjb25zdCByZXN1bHRpbmdHcmlkVG9OdW1BcnIgPSByZXN1bHRpbmdHcmlkLnRvTnVtYmVyQXJyYXkoKTtcbiAgICBkZWxldGVCb2FyZCgpO1xuICAgIGNyZWF0ZUJvYXJkKHJlc3VsdGluZ0dyaWRUb051bUFycik7XG59XG5cbmV4cG9ydCB7IHNvbHZlR3JpZCB9IiwiLyoqXG4gKiB1bmRvIGlzIGltcGxlbWVudGVkIGJ5IGEgc3RhY2sgdGhhdCB3aWxsIGJlIHB1c2hlZCAoS29vcmRpbmF0ZXMsIE51bWJlcikgXG4gKiB3aGVuIGEgbnVtYmVyIGdldHMgYWRkZWQgdG8gdGhlIGdyaWRcbiAqIHRoZSBzdGFjayB3aWxsIGJlIHBvcHBlZCB3aGVuOiB0aGUgdW5kbyBidXR0b24gaXMgcHJlc3NlZFxuICogLS0+IHRoZSBzdGFjayBtdXN0IGJlIGdsb2JhbCBvZiBzb21lIGtpbmRcbiAqL1xuXG5pbnRlcmZhY2UgSVN0YWNrPFQ+IHtcbiAgICBwdXNoKGl0ZW06IFQpOiB2b2lkO1xuICAgIHBvcCgpOiBUIHwgdW5kZWZpbmVkO1xuICAgIHBlZWsoKTogVCB8IHVuZGVmaW5lZDtcbiAgICBzaXplKCk6IFQgfCBudW1iZXI7XG59XG5cbmFic3RyYWN0IGNsYXNzIENvbGxlY3Rpb248VD4ge1xuICAgIHByb3RlY3RlZCBzdG9yYWdlOiBUW10gPSBbXTtcbiAgXG4gICAgc2l6ZSgpOiBudW1iZXIge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5sZW5ndGg7XG4gICAgfVxuICAgIGFic3RyYWN0IGlzRnVsbCgpOiBib29sZWFuO1xuICB9XG5cbiAgY2xhc3MgU3RhY2tDb2xsZWN0aW9uPFQ+IGV4dGVuZHMgQ29sbGVjdGlvbjxUPiBpbXBsZW1lbnRzIElTdGFjazxUPiB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXBhY2l0eTogbnVtYmVyID0gSW5maW5pdHkpIHtcbiAgICAgIHN1cGVyKCk7XG4gICAgfVxuICBcbiAgICBwdXNoKGl0ZW06IFQpIHtcbiAgICAgIGlmICh0aGlzLmlzRnVsbCgpKSB7XG4gICAgICAgIHRocm93IEVycm9yKFwiU3RhY2sgaGFzIHJlYWNoZWQgbWF4IGNhcGFjaXR5LCB5b3UgY2Fubm90IGFkZCBtb3JlIGl0ZW1zXCIpO1xuICAgICAgfVxuICAgICAgLy8gSW4gdGhlIGRlcml2ZWQgY2xhc3MsIHdlIGNhbiBhY2Nlc3MgcHJvdGVjdGVkIHByb3BlcnRpZXMgb2YgdGhlIGFic3RyYWN0IGNsYXNzXG4gICAgICB0aGlzLnN0b3JhZ2UucHVzaChpdGVtKTtcbiAgICB9XG4gIFxuICAgIHBvcCgpOiBUIHwgdW5kZWZpbmVkIHtcbiAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UucG9wKCk7XG4gICAgfVxuICBcbiAgICBwZWVrKCk6IFQgfCB1bmRlZmluZWQge1xuICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZVt0aGlzLnNpemUoKSAtIDFdO1xuICAgIH1cbiAgXG4gICAgLy8gSW1wbGVtZW50YXRpb24gb2YgdGhlIGFic3RyYWN0IG1ldGhvZFxuICAgIGlzRnVsbCgpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiB0aGlzLmNhcGFjaXR5ID09PSB0aGlzLnNpemUoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogYSBTdGFjayBDb2xsZWN0aW9uIGZpbGxlZCB3aXRoIGEgMiBkaW0gbnVtYmVyIEFycmF5OlxuICAgKiBlLmc6IGluIHRoZSBncmlkIHRoZSBjZWxsIGluIHJvdyAzLCBjb2x1bW4gNSBnZXRzIHVwZGF0ZWQgdG8gNzpcbiAgICogc3RhY2tGb3JVbmRvLnB1c2goWzMsNSwwXSkgLS0+IGluIHRoZSBjcmVhdGluZ0dyaWQuYWRkTnVtYmVyKClcbiAgICogMCBzYXlzIGluIHRoaXMgY2FzZSwgdGhhdCBvbmUgc3RlcCBiZWZvcmUgdGhlIGNlbGwgd2FzIG5vdCBmaWxsZWRcbiAgICogSWYgdGhlIHVuZG8gYnV0dG9uIGlzIHByZXNzZWQgdGhlIGlubmVyVGV4dCBodG1sIG9mIHRoZSBjZWxsIGluIHJvdyAzLCBjb2x1bW4gNSB3aWxsIGJlIHNldCB0byB6ZXJvLlxuICAgKiAuLi5hbmQ6IHN0YWNrRm9yVW5kby5wb3AoKSAtLT4gaW4gdGhlIGNyZWF0aW5nR3JpZC5hZGROdW1iZXIoKVxuICAgKi9cbiAgY29uc3QgdW5kb1N0YWNrID0gbmV3IFN0YWNrQ29sbGVjdGlvbjxudW1iZXJbXT4oKTtcblxuICBjb25zdCB1bmRvU3RlcCA9ICgpOiBzdHJpbmcgPT4ge1xuICAgIGlmKHVuZG9TdGFjay5wZWVrKCkgPT09IG51bGwgfHwgdW5kb1N0YWNrLnBlZWsoKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IGB1bmRvU3RhY2sgaXMgbnVsbCBvciB1bmRlZmluZWRgO1xuICAgICAgICBhbGVydChzdHIpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH0gZWxzZSBpZih1bmRvU3RhY2suc2l6ZSgpID09PSAwKSB7XG4gICAgICAgIGNvbnN0IHN0ciA9IGB0aGUgdW5kb1N0YWNrIGlzIG5vdCB5ZXQgYnVpbHRgO1xuICAgICAgICBhbGVydChzdHIpO1xuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBjb25zdCBhcnIgPSB1bmRvU3RhY2sucG9wKCk7XG4gICAgaWYoYXJyLmxlbmd0aCAhPT0gMykge1xuICAgICAgICBjb25zdCBzdHIgPSBgc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBmZXRjaGluZyBhbiB1bmRvU3RhY2stZWxlbWVudGA7XG4gICAgICAgIGFsZXJ0KHN0cik7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGBbcm93PVwiJHthcnJbMF19XCJdW2NvbHVtbj1cIiR7YXJyWzFdfVwiXWApO1xuICAgIGNvbnNvbGUubG9nKGB1bmRpZCByb3cgJHthcnJbMF0rMX0gY29sdW1uICR7YXJyWzFdKzF9IGZyb20gJHtjZWxsLmlubmVySFRNTH0gdG8gJHthcnJbMl19YCk7XG4gICAgaWYoYXJyWzJdID09PSAwKSBjZWxsLmlubmVySFRNTCA9IGBgO1xuICAgIGVsc2UgY2VsbC5pbm5lckhUTUwgPSBhcnJbMl0udG9TdHJpbmcoKTtcbiAgICByZXR1cm4gYGdvb2Qgd29yayBtYXRlYDtcbiAgfVxuXG5cbmV4cG9ydHsgdW5kb1N0YWNrLCB1bmRvU3RlcCB9IiwiaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuLi8uLi9FbnRpdGllcy9HcmlkXCI7XG5pbXBvcnQgeyBDZWxsIH0gZnJvbSBcIi4uLy4uL0VudGl0aWVzL0NlbGxcIjtcblxuY29uc3QgYXBwbHlIaWRkZW5TaW5nbGUgPSAoZ3JpZDogR3JpZCk6IEdyaWQgPT4ge1xuICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IDk7IHJvdysrKSB7XG4gICAgICAgIGZvciAobGV0IGNvbHVtbiA9IDA7IGNvbHVtbiA8IDk7IGNvbHVtbisrKSB7XG4gICAgICAgICAgICBjb25zdCBjZWxsID0gZ3JpZC5nZXRDZWxsKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIGlmIChjZWxsLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlVmFsdWVzID0gY2VsbC5nZXRQb3NzaWJsZVZhbHVlcygpO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGhpZGRlbiBzaW5nbGVzIGluIHRoZSByb3dcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IDk7IGMrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYyAhPT0gY29sdW1uICYmIGdyaWQuZ2V0Q2VsbChyb3csIGMpLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sQ2VsbCA9IGdyaWQuZ2V0Q2VsbChyb3csIGMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sUG9zc2libGVWYWx1ZXMgPSBjb2xDZWxsLmdldFBvc3NpYmxlVmFsdWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29sUG9zc2libGVWYWx1ZXMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwucmVtb3ZlUG9zc2libGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgaGlkZGVuIHNpbmdsZXMgaW4gdGhlIGNvbHVtblxuICAgICAgICAgICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgOTsgcisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSByb3cgJiYgZ3JpZC5nZXRDZWxsKHIsIGNvbHVtbikuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dDZWxsID0gZ3JpZC5nZXRDZWxsKHIsIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dQb3NzaWJsZVZhbHVlcyA9IHJvd0NlbGwuZ2V0UG9zc2libGVWYWx1ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlVmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyb3dQb3NzaWJsZVZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBoaWRkZW4gc2luZ2xlcyBpbiB0aGUgYm94XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRSb3cgPSBNYXRoLmZsb29yKHJvdyAvIDMpICogMztcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydENvbCA9IE1hdGguZmxvb3IoY29sdW1uIC8gMykgKiAzO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IHIgPSBzdGFydFJvdzsgciA8IHN0YXJ0Um93ICsgMzsgcisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbDsgYyA8IHN0YXJ0Q29sICsgMzsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociAhPT0gcm93ICYmIGMgIT09IGNvbHVtbiAmJiBncmlkLmdldENlbGwociwgYykuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm94Q2VsbCA9IGdyaWQuZ2V0Q2VsbChyLCBjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBib3hQb3NzaWJsZVZhbHVlcyA9IGJveENlbGwuZ2V0UG9zc2libGVWYWx1ZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZVZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWJveFBvc3NpYmxlVmFsdWVzLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBwb3NzaWJsZSB2YWx1ZXMgb2YgdGhlIGNlbGxcbiAgICAgICAgICAgICAgICBjZWxsLnNldFBvc3NpYmxlVmFsdWVzKHBvc3NpYmxlVmFsdWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBncmlkO1xufTtcblxuZXhwb3J0IHsgYXBwbHlIaWRkZW5TaW5nbGUgfTtcbiIsImltcG9ydCB7IEdyaWQgfSBmcm9tIFwiLi4vLi4vRW50aXRpZXMvR3JpZFwiO1xuaW1wb3J0IHsgQ2VsbCB9IGZyb20gXCIuLi8uLi9FbnRpdGllcy9DZWxsXCI7XG5cbmNvbnN0IGFwcGx5UG9pbnRpbmdQYWlycyA9IChncmlkOiBHcmlkKTogR3JpZCA9PiB7XG4gICAgY29uc3QgdXBkYXRlZEdyaWQgPSBuZXcgR3JpZChncmlkLnRvTnVtYmVyQXJyYXkoKSk7XG5cbiAgICBmb3IgKGxldCBib3hSb3cgPSAwOyBib3hSb3cgPCA5OyBib3hSb3cgKz0gMykge1xuICAgICAgICBmb3IgKGxldCBib3hDb2x1bW4gPSAwOyBib3hDb2x1bW4gPCA5OyBib3hDb2x1bW4gKz0gMykge1xuICAgICAgICAgICAgY29uc3QgcG9zc2libGVWYWx1ZXNJbkJveCA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgICAgICAgICAgY29uc3QgY2VsbHNUb1VwZGF0ZTogeyByb3c6IG51bWJlcjsgY29sdW1uOiBudW1iZXIgfVtdID0gW107XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgcG9zc2libGUgdmFsdWVzIGFuZCBjZWxscyB0byB1cGRhdGUgaW4gdGhlIGJveFxuICAgICAgICAgICAgZm9yIChsZXQgciA9IGJveFJvdzsgciA8IGJveFJvdyArIDM7IHIrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSBib3hDb2x1bW47IGMgPCBib3hDb2x1bW4gKyAzOyBjKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IHVwZGF0ZWRHcmlkLmdldENlbGwociwgYyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9zc2libGVWYWx1ZXMgPSBjZWxsLmdldFBvc3NpYmxlVmFsdWVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHBvc3NpYmxlVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2libGVWYWx1ZXNJbkJveC5hZGQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbHNUb1VwZGF0ZS5wdXNoKHsgcm93OiByLCBjb2x1bW46IGMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGZvciBwb2ludGluZyBwYWlycyBpbiB0aGUgYm94XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHBvc3NpYmxlVmFsdWVzSW5Cb3gpIHtcbiAgICAgICAgICAgICAgICBsZXQgaW5TYW1lUm93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgaW5TYW1lQ29sdW1uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2FtZVJvdzogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxldCBzYW1lQ29sdW1uOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHsgcm93LCBjb2x1bW4gfSBvZiBjZWxsc1RvVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSB1cGRhdGVkR3JpZC5nZXRDZWxsKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuZ2V0UG9zc2libGVWYWx1ZXMoKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzYW1lUm93ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYW1lUm93ID0gcm93O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYW1lUm93ICE9PSByb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblNhbWVSb3cgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNhbWVDb2x1bW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhbWVDb2x1bW4gPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNhbWVDb2x1bW4gIT09IGNvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluU2FtZUNvbHVtbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGluU2FtZVJvdyAmJiBzYW1lUm93ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW4gPSBib3hDb2x1bW4gLSAoYm94Q29sdW1uICUgMyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVuZENvbHVtbiA9IGJveENvbHVtbiArIDMgLSAoYm94Q29sdW1uICUgMyk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGMgPSBzdGFydENvbHVtbjsgYyA8IGVuZENvbHVtbjsgYysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYyA8IGJveENvbHVtbiB8fCBjID49IGJveENvbHVtbiArIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjZWxsID0gdXBkYXRlZEdyaWQuZ2V0Q2VsbChzYW1lUm93LCBjKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2VsbC5pc0VtcHR5KCkgJiYgY2VsbC5nZXRQb3NzaWJsZVZhbHVlcygpLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsLnJlbW92ZVBvc3NpYmxlVmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpblNhbWVDb2x1bW4gJiYgc2FtZUNvbHVtbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0Um93ID0gYm94Um93IC0gKGJveFJvdyAlIDMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbmRSb3cgPSBib3hSb3cgKyAzIC0gKGJveFJvdyAlIDMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCByID0gc3RhcnRSb3c7IHIgPCBlbmRSb3c7IHIrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgPCBib3hSb3cgfHwgciA+PSBib3hSb3cgKyAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IHVwZGF0ZWRHcmlkLmdldENlbGwociwgc2FtZUNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNlbGwuaXNFbXB0eSgpICYmIGNlbGwuZ2V0UG9zc2libGVWYWx1ZXMoKS5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdXBkYXRlZEdyaWQ7XG59O1xuXG5leHBvcnQgeyBhcHBseVBvaW50aW5nUGFpcnMgfTtcbiIsImltcG9ydCB7IENlbGwgfSBmcm9tIFwiLi4vLi4vRW50aXRpZXMvQ2VsbFwiO1xuaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuLi8uLi9FbnRpdGllcy9HcmlkXCI7XG5cbi8qKlxuICogbmFrZWQgU2luZ2xlOiBzaW1wbGUgVGVjaG5pcXVlOlxuICogYSBjZWxsIHdpdGggYSBwb3NzaWJsZSBWYWx1ZSB0aGF0IGlzIHRoZSBvbmx5IG9uZSBvZiBpdCdzIGtpbmQgYW4gZW50aXJlIHJvdywgY29sdW1uIG9yIGJveFxuICogQHBhcmFtIGNlbGwgXG4gKiBAcGFyYW0gZ3JpZCBcbiAqIEByZXR1cm5zIHBvc3NpYmxlVmFsdWVzOiBudW1iZXJbXSBhY2NvcmRpbmcgdG8gdGhlIG5ha2VkIFNpbmdsZSB0YWN0aWMgXG4gKi9cbmNvbnN0IGFwcGx5U3Vkb2t1UnVsZXMgPSAoZ3JpZDogR3JpZCk6IEdyaWQgPT4ge1xuICAgIGNvbnN0IGNlbGxzID0gZ3JpZC5nZXRDZWxscygpO1xuXG4gICAgY2VsbHMuZm9yRWFjaCgoY2VsbDogQ2VsbCkgPT4ge1xuICAgICAgICBjb25zdCByb3cgPSBjZWxsLmdldFJvdygpO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBjZWxsLmdldENvbHVtbigpO1xuICAgICAgICBjb25zdCBib3ggPSBjZWxsLmdldEJveCgpO1xuICAgICAgICBjb25zdCBwb3NzaWJsZVZhbHVlczogbnVtYmVyW10gPSBjZWxsLmdldFBvc3NpYmxlVmFsdWVzKCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIHZhbHVlcyBhbHJlYWR5IHByZXNlbnQgaW4gdGhlIHNhbWUgcm93XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgOTsgYysrKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdyaWQuZ2V0Q2VsbChyb3csIGMpLmdldFZhbHVlKCk7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgcG9zc2libGVWYWx1ZXMuaW5jbHVkZXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSB2YWx1ZXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBzYW1lIGNvbHVtblxuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IDk7IHIrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBncmlkLmdldENlbGwociwgY29sdW1uKS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHBvc3NpYmxlVmFsdWVzLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGNlbGwucmVtb3ZlUG9zc2libGVWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdmFsdWVzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgc2FtZSBib3hcbiAgICAgICAgY29uc3QgYm94Um93ID0gTWF0aC5mbG9vcihib3ggLyAzKSAqIDM7XG4gICAgICAgIGNvbnN0IGJveENvbHVtbiA9IChib3ggJSAzKSAqIDM7XG4gICAgICAgIGZvciAobGV0IHIgPSBib3hSb3c7IHIgPCBib3hSb3cgKyAzOyByKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSBib3hDb2x1bW47IGMgPCBib3hDb2x1bW4gKyAzOyBjKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdyaWQuZ2V0Q2VsbChyLCBjKS5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiBwb3NzaWJsZVZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbC5yZW1vdmVQb3NzaWJsZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjZWxsLnNldFBvc3NpYmxlVmFsdWVzKHBvc3NpYmxlVmFsdWVzKTtcbiAgICB9KTtcblxuICAgIHJldHVybiBncmlkO1xufTtcblxuZXhwb3J0IHsgYXBwbHlTdWRva3VSdWxlcyB9IiwiaW1wb3J0IHsgR3JpZCB9IGZyb20gXCIuLi9FbnRpdGllcy9HcmlkXCI7XG5pbXBvcnQgeyBhcHBseUhpZGRlblNpbmdsZSB9IGZyb20gXCIuL3JlZHVjZVBvc3NpYmlsaXRpZXMvaGlkZGVuU2luZ2xlXCI7XG5pbXBvcnQgeyBhcHBseVN1ZG9rdVJ1bGVzIH0gZnJvbSBcIi4vcmVkdWNlUG9zc2liaWxpdGllcy9zdWRva3VSdWxlc1wiO1xuaW1wb3J0IHsgYXBwbHlQb2ludGluZ1BhaXJzIH0gZnJvbSBcIi4vcmVkdWNlUG9zc2liaWxpdGllcy9wb2ludGluZ1BhaXJcIjtcblxuXG5cbi8qKlxuICogU29sdmUgdGhlIFN1ZG9rdSBncmlkIHVzaW5nIHZhcmlvdXMgc29sdmluZyB0ZWNobmlxdWVzLlxuICogQHBhcmFtIGdyaWQgVGhlIFN1ZG9rdSBncmlkIHRvIHNvbHZlXG4gKiBAcmV0dXJucyBUaGUgc29sdmVkIFN1ZG9rdSBncmlkXG4gKi9cbmNvbnN0IHNvbHZlU3Vkb2t1ID0gKGdyaWQ6IEdyaWQpOiBHcmlkID0+IHtcbiAgICBjb25zb2xlLmxvZyhgaW5zaWRlICdzb2x2ZVN1ZG9rdScgbWV0aG9kLmApO1xuICAgIGxldCBpc0dyaWRGaWxsZWQgPSBmYWxzZTtcbiAgICBsZXQgaGFzTWFkZUNoYW5nZXMgPSBmYWxzZTtcbiAgICBjb25zdCBtYXhJdGVyYXRpb25zID0gMTA7XG4gICAgbGV0IGl0ZXJhdGlvbiA9IDA7XG5cbiAgICBkbyB7XG4gICAgICAgIGhhc01hZGVDaGFuZ2VzID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQXBwbHkgaGlkZGVuIHNpbmdsZXMgdGVjaG5pcXVlXG4gICAgICAgIGxldCB1cGRhdGVkR3JpZCA9IGFwcGx5SGlkZGVuU2luZ2xlKGdyaWQpO1xuICAgICAgICBpZiAoZ3JpZCAhPT0gdXBkYXRlZEdyaWQpIHtcbiAgICAgICAgICAgIGdyaWQgPSB1cGRhdGVkR3JpZDtcbiAgICAgICAgICAgIGhhc01hZGVDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IFN1ZG9rdSBydWxlcyB0byByZWR1Y2UgcG9zc2liaWxpdGllc1xuICAgICAgICB1cGRhdGVkR3JpZCA9IGFwcGx5U3Vkb2t1UnVsZXMoZ3JpZCk7XG4gICAgICAgIGlmIChncmlkICE9PSB1cGRhdGVkR3JpZCkge1xuICAgICAgICAgICAgZ3JpZCA9IHVwZGF0ZWRHcmlkO1xuICAgICAgICAgICAgaGFzTWFkZUNoYW5nZXMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXBwbHkgcG9pbnRpbmcgcGFpcnMgdGVjaG5pcXVlXG4gICAgICAgIHVwZGF0ZWRHcmlkID0gYXBwbHlQb2ludGluZ1BhaXJzKGdyaWQpO1xuICAgICAgICBpZiAoZ3JpZCAhPT0gdXBkYXRlZEdyaWQpIHtcbiAgICAgICAgICAgIGdyaWQgPSB1cGRhdGVkR3JpZDtcbiAgICAgICAgICAgIGhhc01hZGVDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBncmlkIGlzIGZpbGxlZFxuICAgICAgICBjb25zdCBjZWxscyA9IGdyaWQuZ2V0Q2VsbHMoKTtcbiAgICAgICAgaXNHcmlkRmlsbGVkID0gY2VsbHMuZXZlcnkoKGNlbGwpID0+IGNlbGwuZ2V0VmFsdWUoKSAhPT0gMCk7XG4gICAgICAgIGl0ZXJhdGlvbisrO1xuICAgIH0gd2hpbGUgKCFpc0dyaWRGaWxsZWQgJiYgaGFzTWFkZUNoYW5nZXMgJiYgaXRlcmF0aW9uIDw9IG1heEl0ZXJhdGlvbnMpO1xuXG4gICAgcmV0dXJuIGdyaWQ7XG59O1xuXG5leHBvcnQgeyBzb2x2ZVN1ZG9rdSB9O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7IGNoZWNrR3JpZCB9IGZyb20gXCIuL2J1dHRvbi9jaGVja2luZ0dyaWRcIjtcbmltcG9ydCB7IGNyZWF0ZUJvYXJkIH0gZnJvbSBcIi4vTWFuYWdpbmdHcmlkL2NyZWF0ZVwiO1xuaW1wb3J0IHsgY2xlYXJCb2FyZCB9IGZyb20gXCIuL2J1dHRvbi9jbGVhclwiO1xuaW1wb3J0IHsgdW5kb1N0ZXAgfSBmcm9tIFwiLi9idXR0b24vdW5kb1wiO1xuaW1wb3J0ICogYXMgUmFuZG9tR3JpZCBmcm9tIFwiLi9SZXBvc2l0b3J5L2dldHRpbmdSYW5kb21HcmlkXCI7XG5pbXBvcnQgKiBhcyBSZXBvIGZyb20gXCIuL1JlcG9zaXRvcnkvVGVzdGluZ0dyaWRzL3N1ZG9rdVRlc3RHcmlkXCI7XG5pbXBvcnQgKiBhcyBUZXN0R3JpZHMgZnJvbSBcIi4vUmVwb3NpdG9yeS9UZXN0aW5nR3JpZHMvdGVzdFNvbHZpbmdcIjtcbmltcG9ydCB7IHNvbHZlR3JpZCB9IGZyb20gXCIuL2J1dHRvbi9zb2x2ZVwiO1xuLy8gaW1wb3J0IHsgZ2V0Q3VycmVudEdyaWQgfSBmcm9tIFwiLi9HZXR0ZXIvZ2V0R3JpZFwiO1xuXG4vLyBkZWJ1Z2dlcjsgXG4vLyBsaW50OyB6b2Q7IHByZXR0aWVyIGxpYnMgXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1idXR0b25zLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jb25zdCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjbGVhcmApO1xuaWYoY2xlYXJCdXR0b24gIT09IG51bGwpIGNsZWFyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoYGNsaWNrYCwgY2xlYXJCb2FyZCk7XG5lbHNlIGFsZXJ0KGB3ZSd2ZSBnb3QgYSBwcm9ibGVtIHdpdGggdGhlIGNoZWNrIGJ1dHRvbiA6L2ApO1xuXG5jb25zdCBjaGVja2VyQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVja1wiKTtcbmlmKGNoZWNrZXJCdXR0b24gIT09IG51bGwpIGNoZWNrZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNoZWNrR3JpZCk7XG5lbHNlIGFsZXJ0KGB3ZSd2ZSBnb3QgYSBwcm9ibGVtIHdpdGggdGhlIGNoZWNrIGJ1dHRvbmApO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZnVuY3Rpb24oZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJ6XCIgJiYgZS5jdHJsS2V5ID09PSB0cnVlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gRXhlY3V0ZSBVbmRvIGZ1bmN0aW9uIHdoZW4gc3RyZyt1IGlzIHByZXNzZWRcbiAgICAgICAgdW5kb1N0ZXAoKTtcbiAgICB9XG59KTtcblxuY29uc3QgdW5kb0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1bmRvYCk7XG5pZih1bmRvQnV0dG9uICE9PSBudWxsKSB7XG4gICAgdW5kb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdW5kb1N0ZXApOyAgICAgXG59IGVsc2UgYWxlcnQoYHdlJ3ZlIGdvdCBhIHByb2JsZW0gd2l0aCB0aGUgdW5kbyBidXR0b25gKTtcblxuY29uc3Qgc29sdmVCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29sdmUnKTtcbmlmKHNvbHZlQnV0dG9uICE9PSBudWxsIHx8IHNvbHZlQnV0dG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICBzb2x2ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNvbHZlR3JpZCk7XG59IGVsc2UgYWxlcnQoYHdlJ3ZlIGdvdCBhIHByb2JsZW0gd2l0aCB0aGUgdW5kbyBidXR0b25gKTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tZXhlY3V0aW5nLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIGNyZWF0ZUJvYXJkKFJhbmRvbUdyaWQuZ2V0UmFuZG9tSGFyZEdyaWQoKSk7XG4vLyBjcmVhdGVCb2FyZChSYW5kb21HcmlkLmdldFJhbmRvbU1lZGl1bUdyaWQoKSk7XG4vLyBjcmVhdGVCb2FyZChSYW5kb21HcmlkLmdldFJhbmRvbUVhc3lHcmlkKCkpO1xuY3JlYXRlQm9hcmQoUmVwby50ZXN0R3JpZCk7XG4iXSwibmFtZXMiOlsiQ2VsbCIsImNvbnN0cnVjdG9yIiwicm93IiwiY29sdW1uIiwicG9zc2libGVzVmFsdWVzIiwidmFsdWUiLCJ0aGlzIiwiYm94IiwiTWF0aCIsImZsb29yIiwicG9zc2libGVWYWx1ZXMiLCJnZXRSb3ciLCJnZXRDb2x1bW4iLCJnZXRCb3giLCJnZXRQb3NzaWJsZVZhbHVlcyIsImdldFZhbHVlIiwic2V0VmFsdWUiLCJzZXRQb3NzaWJsZVZhbHVlcyIsImNsb25lIiwicmVtb3ZlUG9zc2libGVWYWx1ZSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImlzRW1wdHkiLCJHcmlkIiwiZ3JpZERhdGEiLCJjZWxscyIsImNvbCIsImNlbGwiLCJwdXNoIiwiZ2V0Q2VsbHMiLCJnZXRDZWxsIiwicm93SW5kZXgiLCJjb2x1bW5JbmRleCIsInIiLCJjIiwidG9OdW1iZXJBcnJheSIsIm51bUFycmF5Iiwicm93RGF0YSIsImdldEN1cnJlbnRHcmlkIiwiZ3JpZCIsImkiLCJBcnJheSIsImZpbGwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJqIiwidGVtcCIsIkhUTUxFbGVtZW50IiwidGVtcE51bSIsImlubmVyVGV4dCIsIk51bWJlciIsImNyZWF0ZUJvYXJkIiwid2l0aEdyaWQiLCJnZXRFbGVtZW50QnlJZCIsImZvckVhY2giLCJlbGVtIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZCIsImNvbEluZGV4IiwiYWRkRXZlbnRMaXN0ZW5lciIsImFkZE51bWJlciIsInRvU3RyaW5nIiwiZXZlbnQiLCJ0YXJnZXQiLCJnZXRBdHRyaWJ1dGUiLCJxdWVyeVNlbGVjdG9yIiwibnVtIiwicHJvbXQiLCJwcm9tcHQiLCJwYXJzZUludCIsImlzTmFOIiwibnVtYmVyQmVmb3JlQ2hhbmdlIiwiaW5uZXJIVE1MIiwidW5kb1N0YWNrIiwidGVzdEdyaWQiLCJ0ZXN0R3JpZEZpbGxlZFJpZ2h0IiwidGVzdEdyaWRGaWxsZWRXcm9uZyIsImNoZWNrR3JpZCIsIm91dHB1dCIsImciLCJhbGVydCIsImdyaWRJc0Z1bGwiLCJjaGVja1Jvd3NBbmRDb2x1bW5zIiwiY2hlY2tCb3hlcyIsImN1cnJlbnRHcmlkIiwiY291bnRlclJvd3MiLCJjb3VudGVyQ29sdW1ucyIsIm51bVJvdyIsIm51bUNvbCIsImJveENoZWNrSGVscGVyIiwiZnJvbVJvdyIsInRvUm93IiwiZnJvbUNvbHVtbiIsInRvQ29sdW1uIiwiY291bnRlciIsImRlbGV0ZUJvYXJkIiwibGFzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJjbGVhckJvYXJkIiwiY3JlYXRlVm9pZEdyaWQiLCJzb2x2ZUdyaWQiLCJjb25zb2xlIiwibG9nIiwicmVzdWx0aW5nR3JpZFRvTnVtQXJyIiwic29sdmVTdWRva3UiLCJDb2xsZWN0aW9uIiwic3RvcmFnZSIsInNpemUiLCJsZW5ndGgiLCJjYXBhY2l0eSIsIkluZmluaXR5Iiwic3VwZXIiLCJpdGVtIiwiaXNGdWxsIiwiRXJyb3IiLCJwb3AiLCJwZWVrIiwidW5kb1N0ZXAiLCJ1bmRlZmluZWQiLCJzdHIiLCJhcnIiLCJhcHBseUhpZGRlblNpbmdsZSIsImNvbFBvc3NpYmxlVmFsdWVzIiwiaW5jbHVkZXMiLCJyb3dQb3NzaWJsZVZhbHVlcyIsInN0YXJ0Um93Iiwic3RhcnRDb2wiLCJib3hQb3NzaWJsZVZhbHVlcyIsImFwcGx5UG9pbnRpbmdQYWlycyIsInVwZGF0ZWRHcmlkIiwiYm94Um93IiwiYm94Q29sdW1uIiwicG9zc2libGVWYWx1ZXNJbkJveCIsIlNldCIsImNlbGxzVG9VcGRhdGUiLCJzYW1lUm93Iiwic2FtZUNvbHVtbiIsImluU2FtZVJvdyIsImluU2FtZUNvbHVtbiIsImVuZENvbHVtbiIsImVuZFJvdyIsImFwcGx5U3Vkb2t1UnVsZXMiLCJpc0dyaWRGaWxsZWQiLCJoYXNNYWRlQ2hhbmdlcyIsIml0ZXJhdGlvbiIsImV2ZXJ5IiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJjbGVhckJ1dHRvbiIsImNoZWNrZXJCdXR0b24iLCJ3aW5kb3ciLCJlIiwia2V5IiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwidW5kb0J1dHRvbiIsInNvbHZlQnV0dG9uIiwiUmVwbyJdLCJzb3VyY2VSb290IjoiIn0=